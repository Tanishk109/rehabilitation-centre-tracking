{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///Users/tanishkmittal/Downloads/rehabilitation-centre-tracking/lib/mongodb.ts"],"sourcesContent":["import { MongoClient, Db } from 'mongodb'\n\n// Default connection string if not in env (for scripts and fallback)\nconst defaultUri = 'mongodb+srv://necks:fdLaWizvRAmTYvdG@cluster0.ebmc6q3.mongodb.net/rehabilitation-centre-tracking?retryWrites=true&w=majority&appName=Cluster0'\n\n// Get MongoDB URI from environment or use default\nlet uri: string\n\nif (process.env.MONGODB_URI) {\n  uri = process.env.MONGODB_URI\n} else if (typeof window === 'undefined') {\n  // Server-side: use default if not set (for scripts and development)\n  uri = defaultUri\n  console.warn('⚠️  MONGODB_URI not set, using default connection string')\n} else {\n  // Client-side: should never happen, but handle gracefully\n  throw new Error('MongoDB connection is not available on the client side')\n}\n\nconst options = {\n  // Add connection options for better reliability\n  maxPoolSize: 10,\n  serverSelectionTimeoutMS: 5000,\n  socketTimeoutMS: 45000,\n}\n\nlet client: MongoClient\nlet clientPromise: Promise<MongoClient>\n\nif (process.env.NODE_ENV === 'development') {\n  // In development mode, use a global variable so that the value\n  // is preserved across module reloads caused by HMR (Hot Module Replacement).\n  let globalWithMongo = global as typeof globalThis & {\n    _mongoClientPromise?: Promise<MongoClient>\n  }\n\n  if (!globalWithMongo._mongoClientPromise) {\n    client = new MongoClient(uri, options)\n    globalWithMongo._mongoClientPromise = client.connect()\n  }\n  clientPromise = globalWithMongo._mongoClientPromise\n} else {\n  // In production mode, it's best to not use a global variable.\n  client = new MongoClient(uri, options)\n  clientPromise = client.connect()\n}\n\n// Export a module-scoped MongoClient promise. By doing this in a\n// separate module, the client can be shared across functions.\nexport default clientPromise\n\nexport async function getDatabase(): Promise<Db> {\n  try {\n    const client = await clientPromise\n    // Test the connection\n    await client.db('admin').command({ ping: 1 })\n    return client.db('rehabilitation-centre-tracking')\n  } catch (error) {\n    console.error('❌ MongoDB connection error:', error)\n    throw new Error(`Failed to connect to MongoDB: ${error instanceof Error ? error.message : 'Unknown error'}`)\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,qEAAqE;AACrE,MAAM,aAAa;AAEnB,kDAAkD;AAClD,IAAI;AAEJ,IAAI,QAAQ,GAAG,CAAC,WAAW,EAAE;IAC3B,MAAM,QAAQ,GAAG,CAAC,WAAW;AAC/B,OAAO,wCAAmC;IACxC,oEAAoE;IACpE,MAAM;IACN,QAAQ,IAAI,CAAC;AACf;;AAKA,MAAM,UAAU;IACd,gDAAgD;IAChD,aAAa;IACb,0BAA0B;IAC1B,iBAAiB;AACnB;AAEA,IAAI;AACJ,IAAI;AAEJ,wCAA4C;IAC1C,+DAA+D;IAC/D,6EAA6E;IAC7E,IAAI;IAIJ,IAAI,CAAC,gBAAgB,mBAAmB,EAAE;QACxC,SAAS,IAAI,sHAAW,CAAC,KAAK;QAC9B,gBAAgB,mBAAmB,GAAG,OAAO,OAAO;IACtD;IACA,gBAAgB,gBAAgB,mBAAmB;AACrD;;uCAQe;AAER,eAAe;IACpB,IAAI;QACF,MAAM,SAAS,MAAM;QACrB,sBAAsB;QACtB,MAAM,OAAO,EAAE,CAAC,SAAS,OAAO,CAAC;YAAE,MAAM;QAAE;QAC3C,OAAO,OAAO,EAAE,CAAC;IACnB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,+BAA+B;QAC7C,MAAM,IAAI,MAAM,CAAC,8BAA8B,EAAE,iBAAiB,QAAQ,MAAM,OAAO,GAAG,iBAAiB;IAC7G;AACF"}},
    {"offset": {"line": 109, "column": 0}, "map": {"version":3,"sources":["file:///Users/tanishkmittal/Downloads/rehabilitation-centre-tracking/app/api/orders/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server'\nimport { getDatabase } from '@/lib/mongodb'\nimport { Order } from '@/lib/models'\n\n// GET - Fetch all orders (with optional filtering)\nexport async function GET(request: NextRequest) {\n  try {\n    const db = await getDatabase()\n    const ordersCollection = db.collection<Order>('orders')\n    \n    const { searchParams } = new URL(request.url)\n    const role = searchParams.get('role')\n    const centreId = searchParams.get('centreId')\n    const status = searchParams.get('status')\n    const priority = searchParams.get('priority')\n\n    let query: { $or?: Array<{ targetCentreId: string | null }>; status?: string; priority?: string } = {}\n\n    // Filter by centreId if centre_admin\n    if (role === 'centre_admin' && centreId) {\n      query.$or = [\n        { targetCentreId: centreId },\n        { targetCentreId: null }\n      ]\n    }\n\n    // Filter by status\n    if (status) {\n      query.status = status\n    }\n\n    // Filter by priority\n    if (priority) {\n      query.priority = priority\n    }\n\n    const orders = await ordersCollection.find(query).sort({ issuedAt: -1 }).toArray()\n    \n    return NextResponse.json({ success: true, data: orders })\n  } catch (error) {\n    console.error('Error fetching orders:', error)\n    return NextResponse.json(\n      { success: false, error: 'Failed to fetch orders' },\n      { status: 500 }\n    )\n  }\n}\n\n// POST - Create a new order (only super admin)\nexport async function POST(request: NextRequest) {\n  try {\n    const db = await getDatabase()\n    const ordersCollection = db.collection<Order>('orders')\n    const centresCollection = db.collection('centres')\n    \n    const body = await request.json()\n    const { role, issuedBy } = body\n\n    // Only super_admin can create orders\n    if (role !== 'super_admin') {\n      return NextResponse.json(\n        { success: false, error: 'Unauthorized: Only super admin can create orders' },\n        { status: 403 }\n      )\n    }\n\n    // Validate required fields\n    if (!body.subject || !body.subject.trim()) {\n      return NextResponse.json(\n        { success: false, error: 'Subject is required' },\n        { status: 400 }\n      )\n    }\n\n    if (!body.instruction || !body.instruction.trim()) {\n      return NextResponse.json(\n        { success: false, error: 'Instruction is required' },\n        { status: 400 }\n      )\n    }\n\n    if (!body.deadline || !body.deadline.trim()) {\n      return NextResponse.json(\n        { success: false, error: 'Deadline is required' },\n        { status: 400 }\n      )\n    }\n\n    if (!body.priority) {\n      return NextResponse.json(\n        { success: false, error: 'Priority is required' },\n        { status: 400 }\n      )\n    }\n\n    // Validate and normalize deadline format (DD/MM/YYYY)\n    let deadline = body.deadline.trim()\n    const ddmmyyyyRegex = /^(\\d{1,2})\\/(\\d{1,2})\\/(\\d{4})$/\n    const match = deadline.match(ddmmyyyyRegex)\n    \n    if (!match) {\n      // Try to parse YYYY-MM-DD format (backward compatibility)\n      const yyyymmddRegex = /^(\\d{4})-(\\d{2})-(\\d{2})$/\n      const yyyyMatch = deadline.match(yyyymmddRegex)\n      if (yyyyMatch) {\n        const [, year, month, day] = yyyyMatch\n        deadline = `${day}/${month}/${year}`\n      } else {\n        return NextResponse.json(\n          { success: false, error: 'Invalid deadline format. Please use DD/MM/YYYY format (e.g., 15/05/2024).' },\n          { status: 400 }\n        )\n      }\n    } else {\n      // Normalize DD/MM/YYYY format\n      const [, day, month, year] = match\n      deadline = `${day.padStart(2, '0')}/${month.padStart(2, '0')}/${year}`\n    }\n\n    // Validate date components\n    const dateParts = deadline.split('/')\n    if (dateParts.length === 3) {\n      const day = parseInt(dateParts[0], 10)\n      const month = parseInt(dateParts[1], 10)\n      const year = parseInt(dateParts[2], 10)\n      \n      if (month < 1 || month > 12) {\n        return NextResponse.json(\n          { success: false, error: 'Invalid month in deadline. Month must be between 1 and 12.' },\n          { status: 400 }\n        )\n      }\n      \n      if (day < 1 || day > 31) {\n        return NextResponse.json(\n          { success: false, error: 'Invalid day in deadline. Day must be between 1 and 31.' },\n          { status: 400 }\n        )\n      }\n      \n      // Validate date is valid\n      const deadlineDate = new Date(year, month - 1, day)\n      if (deadlineDate.getDate() !== day || deadlineDate.getMonth() !== month - 1 || deadlineDate.getFullYear() !== year) {\n        return NextResponse.json(\n          { success: false, error: 'Invalid deadline date. Please enter a valid date.' },\n          { status: 400 }\n        )\n      }\n    }\n\n    // Get centre name if targetCentreId is provided\n    if (body.targetCentreId) {\n      const centre = await centresCollection.findOne({ id: body.targetCentreId })\n      body.targetCentreName = centre?.name || ''\n    } else {\n      body.targetCentreName = 'All Centres'\n    }\n\n    // Generate unique ID if not provided\n    if (!body.id) {\n      // Find the highest existing order number to ensure uniqueness\n      // Support both formats: ORD-XXXXX and ORD00123\n      const existingOrders = await ordersCollection\n        .find({ id: { $regex: /^ORD/ } })\n        .sort({ id: -1 })\n        .limit(1)\n        .toArray()\n      \n      let nextNumber = 1\n      if (existingOrders.length > 0 && existingOrders[0].id) {\n        // Extract number from existing ID (e.g., ORD-00123 -> 123, ORD00123 -> 123)\n        const match = existingOrders[0].id.match(/\\d+/)\n        if (match) {\n          nextNumber = parseInt(match[0], 10) + 1\n        }\n      }\n      \n      // Format as ORD-XXXXX (5 digits for better scalability)\n      body.id = `ORD-${String(nextNumber).padStart(5, '0')}`\n      \n      // Double-check uniqueness (in case of race conditions)\n      const existing = await ordersCollection.findOne({ id: body.id })\n      if (existing) {\n        // If exists, increment and try again\n        body.id = `ORD-${String(nextNumber + 1).padStart(5, '0')}`\n      }\n    }\n\n    body.issuedBy = issuedBy || 'Unknown'\n    body.issuedAt = new Date().toISOString().split('T')[0]\n    body.deadline = deadline // Use normalized deadline\n    body.status = body.status || 'issued' // Default to 'issued' if not provided\n    body.acknowledgements = []\n    body.updatedAt = new Date()\n\n    const { role: _, issuedBy: __, ...orderData } = body\n    const result = await ordersCollection.insertOne(orderData)\n    \n    return NextResponse.json(\n      { success: true, data: { ...orderData, _id: result.insertedId } },\n      { status: 201 }\n    )\n  } catch (error) {\n    console.error('Error creating order:', error)\n    return NextResponse.json(\n      { success: false, error: 'Failed to create order' },\n      { status: 500 }\n    )\n  }\n}\n\n// PUT - Update order status\nexport async function PUT(request: NextRequest) {\n  try {\n    const db = await getDatabase()\n    const ordersCollection = db.collection<Order>('orders')\n    \n    const body = await request.json()\n    const { id, status, role, centreId: userCentreId } = body\n\n    // Check if order exists\n    const order = await ordersCollection.findOne({ id })\n    if (!order) {\n      return NextResponse.json(\n        { success: false, error: 'Order not found' },\n        { status: 404 }\n      )\n    }\n\n    // Centre admin can only update orders for their centre\n    if (role === 'centre_admin') {\n      if (!userCentreId || userCentreId === 'undefined' || userCentreId === 'null') {\n        return NextResponse.json(\n          { success: false, error: 'Centre ID is required for centre admin. Please ensure you are logged in correctly.' },\n          { status: 400 }\n        )\n      }\n      if (order.targetCentreId !== null && order.targetCentreId !== userCentreId) {\n        return NextResponse.json(\n          { success: false, error: 'Unauthorized: You can only update orders for your centre' },\n          { status: 403 }\n        )\n      }\n      // Centre admin can only mark as completed\n      if (status !== 'completed') {\n        return NextResponse.json(\n          { success: false, error: 'You can only mark orders as completed' },\n          { status: 403 }\n        )\n      }\n    }\n\n    const result = await ordersCollection.updateOne(\n      { id },\n      { \n        $set: { \n          status,\n          updatedAt: new Date()\n        }\n      }\n    )\n\n    const updatedOrder = await ordersCollection.findOne({ id })\n    \n    return NextResponse.json({ success: true, data: updatedOrder })\n  } catch (error) {\n    console.error('Error updating order:', error)\n    return NextResponse.json(\n      { success: false, error: 'Failed to update order' },\n      { status: 500 }\n    )\n  }\n}\n\n// PATCH - Acknowledge order\nexport async function PATCH(request: NextRequest) {\n  try {\n    const db = await getDatabase()\n    const ordersCollection = db.collection<Order>('orders')\n    \n    const body = await request.json()\n    const { orderId, acknowledgedBy, role, centreId: userCentreId } = body\n\n    // Check if order exists\n    const order = await ordersCollection.findOne({ id: orderId })\n    if (!order) {\n      return NextResponse.json(\n        { success: false, error: 'Order not found' },\n        { status: 404 }\n      )\n    }\n\n    // Centre admin can only acknowledge orders for their centre\n    if (role === 'centre_admin') {\n      if (!userCentreId || userCentreId === 'undefined' || userCentreId === 'null') {\n        return NextResponse.json(\n          { success: false, error: 'Centre ID is required for centre admin. Please ensure you are logged in correctly.' },\n          { status: 400 }\n        )\n      }\n      if (order.targetCentreId !== null && order.targetCentreId !== userCentreId) {\n        return NextResponse.json(\n          { success: false, error: 'Unauthorized: You can only acknowledge orders for your centre' },\n          { status: 403 }\n        )\n      }\n    }\n\n    // Check if already acknowledged by this centre\n    const alreadyAcknowledged = order.acknowledgements.some(\n      (ack) => ack.centreId === userCentreId\n    )\n\n    if (alreadyAcknowledged) {\n      return NextResponse.json(\n        { success: false, error: 'Order already acknowledged by your centre' },\n        { status: 400 }\n      )\n    }\n\n    const newAcknowledgement = {\n      centreId: userCentreId || '',\n      acknowledgedBy,\n      acknowledgedAt: new Date().toISOString().split('T')[0]\n    }\n\n    const result = await ordersCollection.updateOne(\n      { id: orderId },\n      { \n        $push: { acknowledgements: newAcknowledgement },\n        $set: { \n          status: 'acknowledged',\n          updatedAt: new Date()\n        }\n      }\n    )\n\n    const updatedOrder = await ordersCollection.findOne({ id: orderId })\n    \n    return NextResponse.json({ success: true, data: updatedOrder })\n  } catch (error) {\n    console.error('Error acknowledging order:', error)\n    return NextResponse.json(\n      { success: false, error: 'Failed to acknowledge order' },\n      { status: 500 }\n    )\n  }\n}\n\n"],"names":[],"mappings":"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"}}]
}