{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/tanishkmittal/Downloads/rehabilitation-centre-tracking/lib/api.ts"],"sourcesContent":["// API utility functions for frontend\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || '/api'\n\nexport async function apiRequest(endpoint: string, options: RequestInit = {}) {\n  try {\n    const response = await fetch(`${API_URL}${endpoint}`, {\n      ...options,\n      headers: {\n        'Content-Type': 'application/json',\n        ...options.headers,\n      },\n    })\n\n    const data = await response.json()\n    \n    if (!response.ok) {\n      throw new Error(data.error || 'API request failed')\n    }\n\n    return data\n  } catch (error) {\n    console.error('API request error:', error)\n    throw error\n  }\n}\n\n// Centres API\nexport const centresAPI = {\n  getAll: (role?: string, centreId?: string, state?: string, search?: string) => {\n    const params = new URLSearchParams()\n    if (role) params.append('role', role)\n    if (centreId) params.append('centreId', centreId)\n    if (state) params.append('state', state)\n    if (search) params.append('search', search)\n    return apiRequest(`/centres?${params.toString()}`)\n  },\n  create: (data: Record<string, unknown>) => apiRequest('/centres', { method: 'POST', body: JSON.stringify(data) }),\n  update: (data: Record<string, unknown>) => apiRequest('/centres', { method: 'PUT', body: JSON.stringify(data) }),\n  delete: (id: string, role: string) => apiRequest(`/centres?id=${id}&role=${role}`, { method: 'DELETE' }),\n}\n\n// Patients API\nexport const patientsAPI = {\n  getAll: (role?: string, centreId?: string, status?: string, search?: string) => {\n    const params = new URLSearchParams()\n    if (role) params.append('role', role)\n    if (centreId) params.append('centreId', centreId)\n    if (status) params.append('status', status)\n    if (search) params.append('search', search)\n    return apiRequest(`/patients?${params.toString()}`)\n  },\n  create: (data: Record<string, unknown>) => apiRequest('/patients', { method: 'POST', body: JSON.stringify(data) }),\n  update: (data: Record<string, unknown>) => apiRequest('/patients', { method: 'PUT', body: JSON.stringify(data) }),\n  delete: (id: string, role: string, centreId?: string) => {\n    const params = new URLSearchParams({ id, role })\n    if (centreId) params.append('centreId', centreId)\n    return apiRequest(`/patients?${params.toString()}`, { method: 'DELETE' })\n  },\n  addMedication: (data: Record<string, unknown>) => apiRequest('/patients', { method: 'PATCH', body: JSON.stringify(data) }),\n}\n\n// Queries API\nexport const queriesAPI = {\n  getAll: (role?: string, centreId?: string, status?: string, priority?: string) => {\n    const params = new URLSearchParams()\n    if (role) params.append('role', role)\n    if (centreId) params.append('centreId', centreId)\n    if (status) params.append('status', status)\n    if (priority) params.append('priority', priority)\n    return apiRequest(`/queries?${params.toString()}`)\n  },\n  create: (data: Record<string, unknown>) => apiRequest('/queries', { method: 'POST', body: JSON.stringify(data) }),\n  updateStatus: (data: Record<string, unknown>) => apiRequest('/queries', { method: 'PUT', body: JSON.stringify(data) }),\n  addResponse: (data: Record<string, unknown>) => apiRequest('/queries', { method: 'PATCH', body: JSON.stringify(data) }),\n}\n\n// Orders API\nexport const ordersAPI = {\n  getAll: (role?: string, centreId?: string, status?: string, priority?: string) => {\n    const params = new URLSearchParams()\n    if (role) params.append('role', role)\n    if (centreId) params.append('centreId', centreId)\n    if (status) params.append('status', status)\n    if (priority) params.append('priority', priority)\n    return apiRequest(`/orders?${params.toString()}`)\n  },\n  create: (data: Record<string, unknown>) => apiRequest('/orders', { method: 'POST', body: JSON.stringify(data) }),\n  updateStatus: (data: Record<string, unknown>) => apiRequest('/orders', { method: 'PUT', body: JSON.stringify(data) }),\n  acknowledge: (data: Record<string, unknown>) => apiRequest('/orders', { method: 'PATCH', body: JSON.stringify(data) }),\n}\n\n// Register API (includes centre admins list)\nexport const registerAPI = {\n  getAll: (role?: string, status?: string) => {\n    const params = new URLSearchParams()\n    if (role) params.append('role', role)\n    if (status) params.append('status', status)\n    return apiRequest(`/register?${params.toString()}`)\n  },\n  getCentreAdmins: (role: string) => {\n    const params = new URLSearchParams({ type: 'centre-admins', role })\n    return apiRequest(`/register?${params.toString()}`)\n  },\n  create: (data: Record<string, unknown>) => apiRequest('/register', { method: 'POST', body: JSON.stringify(data) }),\n  updateStatus: (data: Record<string, unknown>) => apiRequest('/register', { method: 'PUT', body: JSON.stringify(data) }),\n}\n\n// Users API\nexport const usersAPI = {\n  getByEmail: (email: string) => apiRequest(`/users?email=${encodeURIComponent(email)}`),\n  create: (data: Record<string, unknown>) => apiRequest('/users', { method: 'POST', body: JSON.stringify(data) }),\n  updateProfile: (data: Record<string, unknown>) => apiRequest('/users', { method: 'PATCH', body: JSON.stringify(data) }),\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 180, "column": 0}, "map": {"version":3,"sources":["file:///Users/tanishkmittal/Downloads/rehabilitation-centre-tracking/app/page.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { useState, useEffect, useCallback, useRef } from \"react\"\nimport { centresAPI, patientsAPI, queriesAPI, ordersAPI, usersAPI, registerAPI } from \"@/lib/api\"\n\n// Types\ninterface User {\n  id: string\n  name: string\n  email: string\n  role: \"super_admin\" | \"centre_admin\"\n  centreId: string | null\n  status?: \"pending\" | \"approved\" | \"rejected\"\n  phone?: string\n  dob?: string // Date of birth\n  age?: number\n  aadharNumber?: string\n  address?: string\n  employeeCode?: string // Unique employee code\n  centreName?: string\n  centreAddress?: string\n  centreState?: string\n  centreCity?: string\n  rejectionReason?: string\n  createdAt?: Date | string\n}\n\ninterface Centre {\n  id: string\n  name: string\n  state: string\n  city: string\n  address: string\n  phone: string\n  email: string\n  capacity: number\n  administrator: string\n  adminEmail: string\n  status: \"active\" | \"inactive\"\n  createdAt: string\n}\n\ninterface Patient {\n  id: string\n  centreId: string\n  name: string\n  dob: string\n  age: number\n  gender: string\n  phone: string\n  email: string\n  address: string\n  aadharNumber: string\n  familyContactName: string\n  familyContactPhone: string\n  addictionType: string\n  admissionDate: string\n  status: \"admitted\" | \"under_treatment\" | \"recovering\" | \"discharged\"\n  medications: Medication[]\n}\n\ninterface Medication {\n  id: string\n  name: string\n  dosage: string\n  frequency: string\n  prescribedBy: string\n  startDate: string\n}\n\ninterface Query {\n  id: string\n  centreId: string\n  centreName: string\n  subject: string\n  description: string\n  priority: \"low\" | \"medium\" | \"high\" | \"urgent\"\n  status: \"open\" | \"in_progress\" | \"resolved\" | \"closed\"\n  createdBy: string\n  createdAt: string\n  responses: QueryResponse[]\n}\n\ninterface QueryResponse {\n  id: string\n  message: string\n  respondedBy: string\n  respondedAt: string\n  isAdmin: boolean\n}\n\ninterface Order {\n  id: string\n  subject: string\n  instruction: string\n  targetCentreId: string | null\n  targetCentreName: string\n  priority: \"low\" | \"medium\" | \"high\" | \"critical\"\n  status: \"issued\" | \"acknowledged\" | \"in_progress\" | \"completed\"\n  deadline: string\n  issuedBy: string\n  issuedAt: string\n  acknowledgements: Acknowledgement[]\n}\n\ninterface Acknowledgement {\n  centreId: string\n  acknowledgedBy: string\n  acknowledgedAt: string\n}\n\n// Constants\n// Removed hardcoded ADMIN_USERS - all authentication should go through database\n\nconst INDIAN_STATES = [\n  \"Andhra Pradesh\",\n  \"Arunachal Pradesh\",\n  \"Assam\",\n  \"Bihar\",\n  \"Chhattisgarh\",\n  \"Goa\",\n  \"Gujarat\",\n  \"Haryana\",\n  \"Himachal Pradesh\",\n  \"Jharkhand\",\n  \"Karnataka\",\n  \"Kerala\",\n  \"Madhya Pradesh\",\n  \"Maharashtra\",\n  \"Manipur\",\n  \"Meghalaya\",\n  \"Mizoram\",\n  \"Nagaland\",\n  \"Odisha\",\n  \"Punjab\",\n  \"Rajasthan\",\n  \"Sikkim\",\n  \"Tamil Nadu\",\n  \"Telangana\",\n  \"Tripura\",\n  \"Uttar Pradesh\",\n  \"Uttarakhand\",\n  \"West Bengal\",\n  \"Delhi\",\n]\n\nconst ADDICTION_TYPES = [\n  \"Alcohol\",\n  \"Cannabis/Marijuana\",\n  \"Opioids (Heroin, Morphine)\",\n  \"Cocaine\",\n  \"Methamphetamine\",\n  \"Prescription Drugs\",\n  \"Tobacco/Nicotine\",\n  \"Benzodiazepines\",\n  \"Inhalants\",\n  \"Hallucinogens\",\n  \"Multiple Substances\",\n  \"Other\",\n]\n\n// Initial Data\nconst initialCentres: Centre[] = [\n  {\n    id: \"C001\",\n    name: \"Mumbai Central Rehabilitation Centre\",\n    state: \"Maharashtra\",\n    city: \"Mumbai\",\n    address: \"123, Bandra West, Mumbai - 400050\",\n    phone: \"022-12345678\",\n    email: \"mumbai@rehab.gov.in\",\n    capacity: 150,\n    administrator: \"Mr. Anil Deshmukh\",\n    adminEmail: \"anil@rehab.gov.in\",\n    status: \"active\",\n    createdAt: \"2023-01-15\",\n  },\n  {\n    id: \"C002\",\n    name: \"Delhi AIIMS De-addiction Centre\",\n    state: \"Delhi\",\n    city: \"New Delhi\",\n    address: \"AIIMS Campus, Ansari Nagar, New Delhi\",\n    phone: \"011-26588500\",\n    email: \"delhi@rehab.gov.in\",\n    capacity: 200,\n    administrator: \"Dr. Priya Sharma\",\n    adminEmail: \"priya@rehab.gov.in\",\n    status: \"active\",\n    createdAt: \"2022-06-01\",\n  },\n  {\n    id: \"C003\",\n    name: \"Bengaluru Hope Foundation Centre\",\n    state: \"Karnataka\",\n    city: \"Bengaluru\",\n    address: \"45, Koramangala, Bengaluru\",\n    phone: \"080-23456789\",\n    email: \"bengaluru@rehab.gov.in\",\n    capacity: 100,\n    administrator: \"Dr. Venkatesh Iyer\",\n    adminEmail: \"venkatesh@rehab.gov.in\",\n    status: \"active\",\n    createdAt: \"2023-03-20\",\n  },\n  {\n    id: \"C004\",\n    name: \"Chennai Recovery Centre\",\n    state: \"Tamil Nadu\",\n    city: \"Chennai\",\n    address: \"78, T. Nagar, Chennai\",\n    phone: \"044-34567890\",\n    email: \"chennai@rehab.gov.in\",\n    capacity: 120,\n    administrator: \"Dr. Lakshmi Narayanan\",\n    adminEmail: \"lakshmi@rehab.gov.in\",\n    status: \"active\",\n    createdAt: \"2023-05-10\",\n  },\n]\n\nconst initialPatients: Patient[] = [\n  {\n    id: \"P001\",\n    centreId: \"C001\",\n    name: \"Rahul Verma\",\n    dob: \"1992-05-15\",\n    age: 32,\n    gender: \"male\",\n    phone: \"9876543210\",\n    email: \"rahul@email.com\",\n    address: \"45, Andheri East, Mumbai\",\n    aadharNumber: \"1234-5678-9012\",\n    familyContactName: \"Sanjay Verma (Father)\",\n    familyContactPhone: \"9876543211\",\n    addictionType: \"Alcohol\",\n    admissionDate: \"2024-01-10\",\n    status: \"under_treatment\",\n    medications: [\n      {\n        id: \"MED001\",\n        name: \"Naltrexone\",\n        dosage: \"50mg\",\n        frequency: \"Once daily\",\n        prescribedBy: \"Dr. Anil Sharma\",\n        startDate: \"2024-01-12\",\n      },\n    ],\n  },\n  {\n    id: \"P002\",\n    centreId: \"C001\",\n    name: \"Priya Patel\",\n    dob: \"1988-11-22\",\n    age: 36,\n    gender: \"female\",\n    phone: \"9876543220\",\n    email: \"priya@email.com\",\n    address: \"22, Powai, Mumbai\",\n    aadharNumber: \"2345-6789-0123\",\n    familyContactName: \"Meera Patel (Mother)\",\n    familyContactPhone: \"9876543221\",\n    addictionType: \"Prescription Drugs\",\n    admissionDate: \"2024-02-05\",\n    status: \"recovering\",\n    medications: [],\n  },\n  {\n    id: \"P003\",\n    centreId: \"C002\",\n    name: \"Amit Singh\",\n    dob: \"1995-03-08\",\n    age: 29,\n    gender: \"male\",\n    phone: \"9876543230\",\n    email: \"amit@email.com\",\n    address: \"12, Rohini, New Delhi\",\n    aadharNumber: \"3456-7890-1234\",\n    familyContactName: \"Rajesh Singh (Brother)\",\n    familyContactPhone: \"9876543231\",\n    addictionType: \"Opioids (Heroin, Morphine)\",\n    admissionDate: \"2024-01-20\",\n    status: \"under_treatment\",\n    medications: [],\n  },\n  {\n    id: \"P004\",\n    centreId: \"C003\",\n    name: \"Divya Reddy\",\n    dob: \"1990-07-14\",\n    age: 34,\n    gender: \"female\",\n    phone: \"9876543240\",\n    email: \"divya@email.com\",\n    address: \"56, Whitefield, Bengaluru\",\n    aadharNumber: \"4567-8901-2345\",\n    familyContactName: \"Krishna Reddy (Husband)\",\n    familyContactPhone: \"9876543241\",\n    addictionType: \"Alcohol\",\n    admissionDate: \"2023-12-15\",\n    status: \"discharged\",\n    medications: [],\n  },\n]\n\nconst initialQueries: Query[] = [\n  {\n    id: \"QRY001\",\n    centreId: \"C001\",\n    centreName: \"Mumbai Central Rehabilitation Centre\",\n    subject: \"Request for Additional Medical Staff\",\n    description: \"Due to increased patient admissions, we require 2 additional psychiatrists.\",\n    priority: \"high\",\n    status: \"open\",\n    createdBy: \"Mr. Anil Deshmukh\",\n    createdAt: \"2024-03-01\",\n    responses: [],\n  },\n  {\n    id: \"QRY002\",\n    centreId: \"C002\",\n    centreName: \"Delhi AIIMS De-addiction Centre\",\n    subject: \"Equipment Maintenance Required\",\n    description: \"Several medical equipment need urgent maintenance.\",\n    priority: \"medium\",\n    status: \"in_progress\",\n    createdBy: \"Dr. Priya Sharma\",\n    createdAt: \"2024-02-25\",\n    responses: [\n      {\n        id: \"RES001\",\n        message: \"Maintenance team has been notified.\",\n        respondedBy: \"Dr. Rajesh Kumar\",\n        respondedAt: \"2024-02-26\",\n        isAdmin: true,\n      },\n    ],\n  },\n]\n\nconst initialOrders: Order[] = [\n  {\n    id: \"ORD001\",\n    subject: \"Monthly Patient Report Submission\",\n    instruction: \"All centres must submit monthly patient progress reports by 5th of every month.\",\n    targetCentreId: null,\n    targetCentreName: \"All Centres\",\n    priority: \"high\",\n    status: \"issued\",\n    deadline: \"2024-03-05\",\n    issuedBy: \"Dr. Rajesh Kumar\",\n    issuedAt: \"2024-03-01\",\n    acknowledgements: [],\n  },\n  {\n    id: \"ORD002\",\n    subject: \"New Safety Protocol Implementation\",\n    instruction: \"Implement updated safety protocols as per Ministry guidelines.\",\n    targetCentreId: \"C001\",\n    targetCentreName: \"Mumbai Central Rehabilitation Centre\",\n    priority: \"critical\",\n    status: \"acknowledged\",\n    deadline: \"2024-03-10\",\n    issuedBy: \"Dr. Rajesh Kumar\",\n    issuedAt: \"2024-02-28\",\n    acknowledgements: [{ centreId: \"C001\", acknowledgedBy: \"Mr. Anil Deshmukh\", acknowledgedAt: \"2024-03-01\" }],\n  },\n]\n\n// Helper functions\n// Helper function to format date input (DD/MM/YYYY)\nconst formatDateInput = (dateValue: string | Date | undefined): string => {\n  if (!dateValue) return \"\"\n  \n  try {\n    // If already in DD/MM/YYYY format, return as is\n    if (typeof dateValue === 'string' && /^\\d{1,2}\\/\\d{1,2}\\/\\d{4}$/.test(dateValue.trim())) {\n      const parts = dateValue.trim().split('/')\n      if (parts.length === 3) {\n        const day = parts[0].padStart(2, '0')\n        const month = parts[1].padStart(2, '0')\n        const year = parts[2]\n        return `${day}/${month}/${year}`\n      }\n      return dateValue.trim()\n    }\n    \n    // Try to parse YYYY-MM-DD format and convert to DD/MM/YYYY\n    if (typeof dateValue === 'string') {\n      const trimmed = dateValue.trim()\n      const yyyymmddRegex = /^(\\d{4})-(\\d{2})-(\\d{2})$/\n      const yyyyMatch = trimmed.match(yyyymmddRegex)\n      if (yyyyMatch) {\n        const [, year, month, day] = yyyyMatch\n        return `${day}/${month}/${year}`\n      }\n    }\n    \n    // Parse as Date object\n    const date = new Date(dateValue)\n    if (isNaN(date.getTime())) return \"\"\n    \n    const day = String(date.getDate()).padStart(2, '0')\n    const month = String(date.getMonth() + 1).padStart(2, '0')\n    const year = date.getFullYear()\n    return `${day}/${month}/${year}`\n  } catch (error) {\n    return \"\"\n  }\n}\n\n// Helper function to parse DD/MM/YYYY to Date object\nconst parseDDMMYYYYDate = (dateString: string): Date | null => {\n  if (!dateString) return null\n  \n  try {\n    const ddmmyyyyRegex = /^(\\d{1,2})\\/(\\d{1,2})\\/(\\d{4})$/\n    const match = dateString.trim().match(ddmmyyyyRegex)\n    if (match) {\n      const [, day, month, year] = match\n      const date = new Date(parseInt(year), parseInt(month) - 1, parseInt(day))\n      if (!isNaN(date.getTime())) {\n        return date\n      }\n    }\n    return null\n  } catch (error) {\n    return null\n  }\n}\n\n// Helper function to auto-format date input as user types\nconst formatDateInputValue = (value: string): string => {\n  // Remove all non-digits\n  let digits = value.replace(/\\D/g, '')\n  \n  // Limit to 8 digits (DDMMYYYY)\n  if (digits.length > 8) {\n    digits = digits.slice(0, 8)\n  }\n  \n  // Add slashes automatically\n  if (digits.length <= 2) {\n    return digits\n  } else if (digits.length <= 4) {\n    return digits.slice(0, 2) + '/' + digits.slice(2)\n  } else {\n    return digits.slice(0, 2) + '/' + digits.slice(2, 4) + '/' + digits.slice(4, 8)\n  }\n}\n\nconst formatDate = (date: string) => {\n  if (!date) return \"N/A\"\n  \n  // If already in DD/MM/YYYY format, return as is\n  if (/^\\d{1,2}\\/\\d{1,2}\\/\\d{4}$/.test(date.trim())) {\n    return date.trim()\n  }\n  \n  // Try to parse and format\n  const parsedDate = parseDDMMYYYYDate(date) || new Date(date)\n  if (isNaN(parsedDate.getTime())) return \"N/A\"\n  \n  const day = String(parsedDate.getDate()).padStart(2, '0')\n  const month = String(parsedDate.getMonth() + 1).padStart(2, '0')\n  const year = parsedDate.getFullYear()\n  return `${day}/${month}/${year}`\n}\n\nconst calculateAge = (dob: string) => {\n  if (!dob) return 0\n  \n  // Parse DD/MM/YYYY format\n  const birthDate = parseDDMMYYYYDate(dob) || new Date(dob)\n  if (isNaN(birthDate.getTime())) return 0\n  \n  const today = new Date()\n  let age = today.getFullYear() - birthDate.getFullYear()\n  const m = today.getMonth() - birthDate.getMonth()\n  if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) age--\n  return age\n}\n\nconst formatStatus = (status: string) => {\n  return status.replace(/_/g, \" \").replace(/\\b\\w/g, (l) => l.toUpperCase())\n}\n\n// Profile Form Component\nconst ProfileForm = ({ user, onUpdate, readOnly = false }: { user: User; onUpdate: (updatedUser: User) => void; readOnly?: boolean }) => {\n  const [profileData, setProfileData] = useState({\n    name: user.name || \"\",\n    email: user.email || \"\",\n    phone: user.phone || \"\",\n    dob: user.dob || \"\",\n    age: user.age || \"\",\n    aadharNumber: user.aadharNumber || \"\",\n    address: user.address || \"\",\n  })\n  const [isEditing, setIsEditing] = useState(false)\n  const [saving, setSaving] = useState(false)\n\n  // Calculate age from DOB helper function (accepts DD/MM/YYYY format)\n  const calculateAgeFromDOB = (dob: string): number | \"\" => {\n    if (!dob) return \"\"\n    const birthDate = parseDDMMYYYY(dob)\n    if (!birthDate) return \"\"\n    \n    const today = new Date()\n    if (birthDate > today) return \"\"\n    \n    let age = today.getFullYear() - birthDate.getFullYear()\n    const monthDiff = today.getMonth() - birthDate.getMonth()\n    if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) {\n      age--\n    }\n    \n    return age >= 0 && age <= 150 ? age : \"\"\n  }\n\n  // Format date for input (DD/MM/YYYY format)\n  const formatDateForInput = (dateValue: string | Date | undefined): string => {\n    if (!dateValue) return \"\"\n    \n    try {\n      // If it's already a string in DD/MM/YYYY format, return as is\n      if (typeof dateValue === 'string') {\n        const trimmed = dateValue.trim()\n        // Check if already in DD/MM/YYYY format\n        if (/^\\d{1,2}\\/\\d{1,2}\\/\\d{4}$/.test(trimmed)) {\n          // Normalize to DD/MM/YYYY with leading zeros\n          const parts = trimmed.split('/')\n          if (parts.length === 3) {\n            const day = parts[0].padStart(2, '0')\n            const month = parts[1].padStart(2, '0')\n            const year = parts[2]\n            return `${day}/${month}/${year}`\n          }\n          return trimmed\n        }\n        \n        // Try to parse YYYY-MM-DD format and convert to DD/MM/YYYY\n        const yyyymmddRegex = /^(\\d{4})-(\\d{2})-(\\d{2})$/\n        const match = trimmed.match(yyyymmddRegex)\n        if (match) {\n          const [, year, month, day] = match\n          return `${day}/${month}/${year}`\n        }\n      }\n      \n      // Parse the date and format it as DD/MM/YYYY\n      const date = new Date(dateValue)\n      if (isNaN(date.getTime())) {\n        console.warn('Invalid date value:', dateValue)\n        return \"\"\n      }\n      \n      // Format as DD/MM/YYYY\n      const day = String(date.getDate()).padStart(2, '0')\n      const month = String(date.getMonth() + 1).padStart(2, '0')\n      const year = date.getFullYear()\n      return `${day}/${month}/${year}`\n    } catch (error) {\n      console.error('Error formatting date:', error, dateValue)\n      return \"\"\n    }\n  }\n  \n  // Convert DD/MM/YYYY to Date object for calculations\n  const parseDDMMYYYY = (dateString: string): Date | null => {\n    if (!dateString) return null\n    \n    try {\n      const ddmmyyyyRegex = /^(\\d{1,2})\\/(\\d{1,2})\\/(\\d{4})$/\n      const match = dateString.trim().match(ddmmyyyyRegex)\n      if (match) {\n        const [, day, month, year] = match\n        const date = new Date(parseInt(year), parseInt(month) - 1, parseInt(day))\n        if (!isNaN(date.getTime())) {\n          return date\n        }\n      }\n      return null\n    } catch (error) {\n      return null\n    }\n  }\n\n  // Update profileData when user prop changes\n  useEffect(() => {\n    setProfileData({\n      name: user.name || \"\",\n      email: user.email || \"\",\n      phone: user.phone || \"\",\n      dob: formatDateForInput(user.dob),\n      age: user.age || \"\",\n      aadharNumber: user.aadharNumber || \"\",\n      address: user.address || \"\",\n    })\n  }, [user])\n\n  // Auto-calculate age when DOB changes\n  useEffect(() => {\n    if (profileData.dob && profileData.dob.trim() !== '') {\n      const birthDate = parseDDMMYYYY(profileData.dob)\n      if (birthDate) {\n        const calculatedAge = calculateAgeFromDOB(profileData.dob)\n        if (calculatedAge !== \"\" && calculatedAge !== profileData.age) {\n          setProfileData(prev => ({ ...prev, age: calculatedAge }))\n        }\n      }\n    }\n    // Note: We don't clear age when DOB is cleared to allow manual age entry\n  }, [profileData.dob]) // Only depend on dob, not age to avoid infinite loop\n\n  const handleSave = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setSaving(true)\n\n    try {\n      // Calculate age if DOB is provided\n      let finalData: Record<string, string | number | undefined> = {}\n      \n      // Only include fields that have non-empty values\n      if (profileData.name && profileData.name.trim() !== '') {\n        finalData.name = profileData.name.trim()\n      }\n      if (profileData.phone && profileData.phone.trim() !== '') {\n        finalData.phone = profileData.phone.trim()\n      }\n      if (profileData.dob && profileData.dob.trim() !== '') {\n        const dobString = profileData.dob.trim()\n        const birthDate = parseDDMMYYYY(dobString)\n        \n        // Validate date format (DD/MM/YYYY)\n        if (!birthDate) {\n          alert(\"Invalid date of birth format. Please use DD/MM/YYYY format (e.g., 15/05/1990).\")\n          setSaving(false)\n          return\n        }\n        \n        const today = new Date()\n        today.setHours(0, 0, 0, 0)\n        const normalizedBirthDate = new Date(birthDate.getFullYear(), birthDate.getMonth(), birthDate.getDate())\n        normalizedBirthDate.setHours(0, 0, 0, 0)\n        \n        // Validate date is not in the future\n        if (normalizedBirthDate > today) {\n          alert(\"Date of birth cannot be in the future. Please enter a valid date.\")\n          setSaving(false)\n          return\n        }\n        \n        // Validate date is reasonable (not more than 150 years ago)\n        const minDate = new Date()\n        minDate.setFullYear(today.getFullYear() - 150)\n        minDate.setHours(0, 0, 0, 0)\n        if (normalizedBirthDate < minDate) {\n          alert(\"Date of birth is too far in the past. Please enter a valid date.\")\n          setSaving(false)\n          return\n        }\n        \n        // Store in DD/MM/YYYY format\n        finalData.dob = dobString\n        // Calculate age from DOB\n          let age = today.getFullYear() - birthDate.getFullYear()\n          const monthDiff = today.getMonth() - birthDate.getMonth()\n          if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) {\n            age--\n          }\n        \n        // Validate calculated age\n        if (age < 0 || age > 150) {\n          alert(\"Invalid age calculated from date of birth. Please check the date.\")\n          setSaving(false)\n          return\n        }\n        \n          finalData.age = age\n      } else if (profileData.age && (typeof profileData.age === 'number' || (typeof profileData.age === 'string' && profileData.age.trim() !== ''))) {\n        const ageNum = typeof profileData.age === 'number' ? profileData.age : parseInt(profileData.age)\n        if (!isNaN(ageNum) && ageNum > 0) {\n          finalData.age = ageNum\n        }\n      }\n      if (profileData.aadharNumber && profileData.aadharNumber.trim() !== '') {\n        finalData.aadharNumber = profileData.aadharNumber.trim()\n      }\n      if (profileData.address && profileData.address.trim() !== '') {\n        finalData.address = profileData.address.trim()\n      }\n\n      // Ensure DOB is in correct format (DD/MM/YYYY) if provided\n      if (finalData.dob && typeof finalData.dob === 'string') {\n        const dobString = finalData.dob.trim()\n        const birthDate = parseDDMMYYYY(dobString)\n        \n        // Validate date format (DD/MM/YYYY)\n        if (!birthDate) {\n          alert(\"Invalid date format. Please use DD/MM/YYYY format (e.g., 15/05/1990).\")\n          setSaving(false)\n          return\n        }\n        \n        // Normalize to DD/MM/YYYY format\n        const day = String(birthDate.getDate()).padStart(2, '0')\n        const month = String(birthDate.getMonth() + 1).padStart(2, '0')\n        const year = birthDate.getFullYear()\n        finalData.dob = `${day}/${month}/${year}`\n      }\n\n      const response = await usersAPI.updateProfile({\n        userId: user.id,\n        email: user.email,\n        ...finalData,\n      })\n\n      if (response.success) {\n        const updatedUser = { ...user, ...response.data }\n        onUpdate(updatedUser)\n        setIsEditing(false)\n        alert(\"Profile updated successfully!\")\n      } else {\n        alert(response.error || \"Failed to update profile\")\n      }\n    } catch (error) {\n      console.error(\"Error updating profile:\", error)\n      const errorMessage = error instanceof Error ? error.message : \"Unknown error\"\n      \n      // Provide user-friendly error messages\n      if (errorMessage.includes('pattern') || errorMessage.includes('validation')) {\n        alert(\"Invalid data format. Please check all fields and ensure dates are in DD/MM/YYYY format (e.g., 15/05/1990).\")\n      } else if (errorMessage.includes('404') || errorMessage.includes('not found')) {\n        alert(\"User not found. Please refresh the page and try again.\")\n      } else {\n        alert(`Error updating profile: ${errorMessage}. Please check the console for details.`)\n      }\n    } finally {\n      setSaving(false)\n    }\n  }\n\n  if (!isEditing) {\n    return (\n      <div style={{ maxWidth: \"800px\", margin: \"0 auto\" }}>\n        <div className=\"detail-section\">\n          <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", marginBottom: \"20px\" }}>\n            <h4>Personal Information</h4>\n            {!readOnly && (\n              <button className=\"btn btn-primary\" onClick={() => setIsEditing(true)}>\n                Edit Profile\n              </button>\n            )}\n          </div>\n          <div className=\"detail-grid\">\n            <div className=\"detail-item\">\n              <label>Name</label>\n              <span>{profileData.name || \"Not set\"}</span>\n            </div>\n            <div className=\"detail-item\">\n              <label>Email</label>\n              <span>{profileData.email || \"Not set\"}</span>\n            </div>\n            <div className=\"detail-item\">\n              <label>Phone</label>\n              <span>{profileData.phone || \"Not set\"}</span>\n            </div>\n            <div className=\"detail-item\">\n              <label>Date of Birth</label>\n              <span>{profileData.dob || \"Not set\"}</span>\n            </div>\n            <div className=\"detail-item\">\n              <label>Age</label>\n              <span>{profileData.age ? `${profileData.age} years` : \"Not set\"}</span>\n            </div>\n            <div className=\"detail-item\">\n              <label>Aadhar Number</label>\n              <span>{profileData.aadharNumber || \"Not set\"}</span>\n            </div>\n            <div className=\"detail-item\" style={{ gridColumn: \"1 / -1\" }}>\n              <label>Address</label>\n              <span>{profileData.address || \"Not set\"}</span>\n            </div>\n            <div className=\"detail-item\">\n              <label>Employee Code</label>\n              <span style={{ fontWeight: \"600\", color: \"var(--navy-blue)\" }}>{user.employeeCode || \"Not assigned\"}</span>\n            </div>\n            {user.role === \"centre_admin\" && user.centreName && (\n              <>\n                <div className=\"detail-item\">\n                  <label>Centre Name</label>\n                  <span>{user.centreName}</span>\n                </div>\n                {user.centreCity && user.centreState && (\n                  <div className=\"detail-item\">\n                    <label>Centre Location</label>\n                    <span>{user.centreCity}, {user.centreState}</span>\n                  </div>\n                )}\n              </>\n            )}\n            <div className=\"detail-item\">\n              <label>Role</label>\n              <span className=\"badge badge-active\">{user.role === \"super_admin\" ? \"Super Admin\" : \"Centre Admin\"}</span>\n            </div>\n            <div className=\"detail-item\">\n              <label>User ID</label>\n              <span>{user.id}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div style={{ maxWidth: \"800px\", margin: \"0 auto\" }}>\n      <form onSubmit={handleSave}>\n        <div className=\"detail-section\">\n          <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", marginBottom: \"20px\" }}>\n            <h4>Edit Personal Information</h4>\n            <button type=\"button\" className=\"btn btn-outline\" onClick={() => setIsEditing(false)}>\n              Cancel\n            </button>\n          </div>\n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label>Name *</label>\n              <input\n                type=\"text\"\n                value={profileData.name}\n                onChange={(e) => setProfileData({ ...profileData, name: e.target.value })}\n                required\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Email *</label>\n              <input\n                type=\"email\"\n                value={profileData.email}\n                onChange={(e) => setProfileData({ ...profileData, email: e.target.value })}\n                required\n                disabled\n                style={{ background: \"var(--gray-100)\", cursor: \"not-allowed\" }}\n              />\n              <small style={{ color: \"var(--gray-600)\", fontSize: \"0.85rem\" }}>Email cannot be changed</small>\n            </div>\n          </div>\n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label>Phone Number</label>\n              <input\n                type=\"tel\"\n                value={profileData.phone}\n                onChange={(e) => setProfileData({ ...profileData, phone: e.target.value })}\n                placeholder=\"Enter phone number\"\n                maxLength={10}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Date of Birth</label>\n              <input\n                type=\"text\"\n                value={profileData.dob || \"\"}\n                onChange={(e) => {\n                  let value = e.target.value\n                  // Allow only digits and slashes\n                  value = value.replace(/[^\\d\\/]/g, '')\n                  \n                  // Auto-format as user types (DD/MM/YYYY)\n                  if (value.length > 0 && !value.includes('/')) {\n                    // Add slashes automatically\n                    if (value.length <= 2) {\n                      // DD\n                      value = value\n                    } else if (value.length <= 4) {\n                      // DDMM\n                      value = value.slice(0, 2) + '/' + value.slice(2)\n                    } else if (value.length <= 8) {\n                      // DDMMYYYY\n                      value = value.slice(0, 2) + '/' + value.slice(2, 4) + '/' + value.slice(4, 8)\n                    } else {\n                      // Limit to DD/MM/YYYY\n                      value = value.slice(0, 2) + '/' + value.slice(2, 4) + '/' + value.slice(4, 8)\n                    }\n                  }\n                  \n                  setProfileData({ ...profileData, dob: value })\n                }}\n                placeholder=\"DD/MM/YYYY\"\n                maxLength={10}\n                pattern=\"\\d{2}/\\d{2}/\\d{4}\"\n              />\n              <small style={{ color: \"var(--gray-600)\", fontSize: \"0.85rem\" }}>\n                Format: DD/MM/YYYY (e.g., 15/05/1990)\n              </small>\n            </div>\n          </div>\n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label>Age</label>\n              <input\n                type=\"number\"\n                value={profileData.age || \"\"}\n                onChange={(e) => {\n                  const newAge = e.target.value === \"\" ? \"\" : parseInt(e.target.value)\n                  setProfileData({ ...profileData, age: newAge })\n                }}\n                placeholder={profileData.dob ? \"Auto-calculated from DOB\" : \"Enter age manually\"}\n                min={0}\n                max={150}\n                disabled={!!profileData.dob}\n                style={profileData.dob ? { background: \"var(--gray-100)\", cursor: \"not-allowed\" } : {}}\n              />\n              <small style={{ color: \"var(--gray-600)\", fontSize: \"0.85rem\" }}>\n                {profileData.dob \n                  ? \"Auto-calculated from Date of Birth (cannot be edited)\" \n                  : \"Enter age manually or provide Date of Birth to auto-calculate\"}\n              </small>\n            </div>\n            <div className=\"form-group\">\n              <label>Aadhar Number</label>\n              <input\n                type=\"text\"\n                value={profileData.aadharNumber}\n                onChange={(e) => setProfileData({ ...profileData, aadharNumber: e.target.value.replace(/\\D/g, \"\").slice(0, 12) })}\n                placeholder=\"12-digit Aadhar number\"\n                maxLength={12}\n                pattern=\"[0-9]{12}\"\n              />\n            </div>\n          </div>\n          <div className=\"form-group\">\n            <label>Address</label>\n            <textarea\n              value={profileData.address}\n              onChange={(e) => setProfileData({ ...profileData, address: e.target.value })}\n              placeholder=\"Enter your address\"\n              rows={3}\n            />\n          </div>\n          <div className=\"form-actions\">\n            <button type=\"button\" className=\"btn btn-outline\" onClick={() => setIsEditing(false)}>\n              Cancel\n            </button>\n            <button type=\"submit\" className=\"btn btn-primary\" disabled={saving}>\n              {saving ? \"Saving...\" : \"Save Changes\"}\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default function Home() {\n  const [currentUser, setCurrentUser] = useState<User | null>(null)\n  const [currentPage, setCurrentPage] = useState(\"dashboard\")\n  const [centres, setCentres] = useState<Centre[]>([])\n  const [patients, setPatients] = useState<Patient[]>([])\n  const [queries, setQueries] = useState<Query[]>([])\n  const [orders, setOrders] = useState<Order[]>([])\n  const [pendingRegistrations, setPendingRegistrations] = useState<User[]>([])\n  const [centreAdmins, setCentreAdmins] = useState<User[]>([])\n  const [loading, setLoading] = useState(true)\n  const [modalOpen, setModalOpen] = useState(false)\n  const [modalTitle, setModalTitle] = useState(\"\")\n  const [modalContent, setModalContent] = useState<React.ReactNode>(null)\n  const [modalType, setModalType] = useState<string | null>(null)\n  const [modalProps, setModalProps] = useState<Record<string, unknown> | null>(null)\n  \n  // Track which modal has been focused to prevent refocus on re-renders\n  const modalFocusTracker = useRef<{ type: string | null; hasFocused: boolean }>({ type: null, hasFocused: false })\n\n  // Filters\n  const [centreSearch, setCentreSearch] = useState(\"\")\n  const [stateFilter, setStateFilter] = useState(\"\")\n  const [patientSearch, setPatientSearch] = useState(\"\")\n  const [centreFilter, setCentreFilter] = useState(\"\")\n  const [statusFilter, setStatusFilter] = useState(\"\")\n  const [queryStatusFilter, setQueryStatusFilter] = useState(\"\")\n  const [queryPriorityFilter, setQueryPriorityFilter] = useState(\"\")\n  const [querySearch, setQuerySearch] = useState(\"\")\n  const [orderStatusFilter, setOrderStatusFilter] = useState(\"\")\n  const [orderPriorityFilter, setOrderPriorityFilter] = useState(\"\")\n  const [orderSearch, setOrderSearch] = useState(\"\")\n\n  // Form states - using Record for flexible form handling\n  const [formData, setFormData] = useState<Record<string, string | number | null | undefined>>({})\n\n  useEffect(() => {\n    const savedUser = localStorage.getItem(\"nrcms_current_user\")\n    if (savedUser) {\n      setCurrentUser(JSON.parse(savedUser))\n    }\n  }, [])\n\n  const fetchAllData = useCallback(async () => {\n    if (!currentUser) return\n    \n    setLoading(true)\n    try {\n      // Fetch all data in parallel (without filters - filters applied client-side)\n      // Use Promise.allSettled to handle individual failures gracefully\n      const [centresResult, patientsResult, queriesResult, ordersResult] = await Promise.allSettled([\n        centresAPI.getAll(\n          currentUser.role,\n          currentUser.centreId || undefined,\n          undefined, // Fetch all, filter client-side\n          undefined\n        ),\n        patientsAPI.getAll(\n          currentUser.role,\n          currentUser.centreId || undefined,\n          undefined, // Fetch all, filter client-side\n          undefined\n        ),\n        queriesAPI.getAll(\n          currentUser.role,\n          currentUser.centreId || undefined,\n          undefined, // Fetch all, filter client-side\n          undefined\n        ),\n        ordersAPI.getAll(\n          currentUser.role,\n          currentUser.centreId || undefined,\n          undefined, // Fetch all, filter client-side\n          undefined\n        ),\n      ])\n\n      // Handle each result individually\n      if (centresResult.status === 'fulfilled' && centresResult.value.success) {\n        setCentres(centresResult.value.data || [])\n      } else {\n        console.error(\"Error fetching centres:\", centresResult.status === 'rejected' ? centresResult.reason : centresResult.value)\n        setCentres([])\n      }\n\n      if (patientsResult.status === 'fulfilled' && patientsResult.value.success) {\n        // Ensure all patients have required fields with defaults\n        const patientsData = (patientsResult.value.data || []).map((p: Patient) => ({\n          ...p,\n          centreId: p.centreId || '',\n          name: p.name || 'Unknown',\n          status: p.status || 'admitted',\n          medications: p.medications || [],\n        }))\n        setPatients(patientsData)\n      } else {\n        console.error(\"Error fetching patients:\", patientsResult.status === 'rejected' ? patientsResult.reason : patientsResult.value)\n        setPatients([])\n      }\n\n      if (queriesResult.status === 'fulfilled' && queriesResult.value.success) {\n        // Ensure all queries have required fields with defaults\n        const queriesData = (queriesResult.value.data || []).map((q: Query) => ({\n          ...q,\n          centreId: q.centreId || '',\n          centreName: q.centreName || 'Unknown Centre',\n          subject: q.subject || 'No Subject',\n          description: q.description || '',\n          priority: q.priority || 'medium',\n          status: q.status || 'open',\n          createdBy: q.createdBy || 'Unknown',\n          createdAt: q.createdAt || new Date().toISOString(),\n          responses: q.responses || [],\n        }))\n        setQueries(queriesData)\n      } else {\n        console.error(\"Error fetching queries:\", queriesResult.status === 'rejected' ? queriesResult.reason : queriesResult.value)\n        setQueries([])\n      }\n\n      if (ordersResult.status === 'fulfilled' && ordersResult.value.success) {\n        setOrders(ordersResult.value.data || [])\n      } else {\n        console.error(\"Error fetching orders:\", ordersResult.status === 'rejected' ? ordersResult.reason : ordersResult.value)\n        setOrders([])\n      }\n\n      // Fetch pending registrations and centre admins for super admin\n      if (currentUser.role === \"super_admin\") {\n        // These are called separately and don't need to be in dependencies\n        // They're defined later in the code\n        fetchPendingRegistrations()\n        fetchCentreAdmins()\n      }\n    } catch (error) {\n      console.error(\"Error fetching data:\", error)\n      // Don't fallback to initial data - keep empty arrays if API fails\n      setCentres([])\n      setPatients([])\n      setQueries([])\n      setOrders([])\n    } finally {\n      setLoading(false)\n    }\n  }, [currentUser])\n\n  // Fetch all data from database when user logs in\n  useEffect(() => {\n    if (currentUser) {\n      fetchAllData()\n    } else {\n      setLoading(false)\n    }\n  }, [currentUser, fetchAllData])\n\n  // Refresh data when page changes (to ensure latest data)\n  useEffect(() => {\n    if (currentUser && currentPage) {\n      fetchAllData()\n    }\n  }, [currentPage, currentUser, fetchAllData])\n\n  const fetchPendingRegistrations = useCallback(async () => {\n    if (!currentUser || currentUser.role !== \"super_admin\") return\n    try {\n      const response = await fetch(`/api/register?status=pending&role=${currentUser.role}`)\n      const data = await response.json()\n      if (data.success) {\n        setPendingRegistrations(data.data)\n      }\n    } catch (error) {\n      console.error(\"Error fetching registrations:\", error)\n    }\n  }, [currentUser])\n\n  const fetchCentreAdmins = useCallback(async () => {\n    if (!currentUser || currentUser.role !== \"super_admin\") return\n    try {\n      const response = await registerAPI.getCentreAdmins(currentUser.role)\n      if (response.success) {\n        setCentreAdmins(response.data || [])\n      }\n    } catch (error) {\n      console.error(\"Error fetching centre admins:\", error)\n    }\n  }, [currentUser])\n\n  // Fetch pending registrations and centre admins for super admin\n  useEffect(() => {\n    if (currentUser?.role === \"super_admin\") {\n      fetchPendingRegistrations()\n      fetchCentreAdmins()\n    }\n  }, [currentUser, fetchPendingRegistrations, fetchCentreAdmins])\n\n  const handleApproveRegistration = async (userId: string, action: \"approve\" | \"reject\", rejectionReason?: string) => {\n    try {\n      const response = await fetch(\"/api/register\", {\n        method: \"PUT\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          userId,\n          action,\n          role: currentUser?.role,\n          approvedBy: currentUser?.name,\n          rejectionReason,\n        }),\n      })\n\n      const data = await response.json()\n      if (data.success) {\n        alert(action === \"approve\" ? \"Registration approved successfully!\" : \"Registration rejected.\")\n        fetchPendingRegistrations()\n        // Refresh centres list if approved\n        if (action === \"approve\") {\n          window.location.reload()\n        }\n      } else {\n        alert(data.error || \"Failed to process registration\")\n      }\n    } catch (error) {\n      alert(\"Error processing registration\")\n    }\n  }\n\n  const handleLogin = async (e: React.FormEvent) => {\n    e.preventDefault()\n    const form = e.target as HTMLFormElement\n    const email = (form.elements.namedItem(\"email\") as HTMLInputElement).value\n    const password = (form.elements.namedItem(\"password\") as HTMLInputElement).value\n\n    if (!password) {\n      alert(\"Password is required\")\n      return\n    }\n\n    try {\n      // Try to fetch user from database with password verification\n      const response = await fetch(`/api/users?email=${encodeURIComponent(email)}&password=${encodeURIComponent(password)}`)\n      const data = await response.json()\n\n      if (data.success && data.data) {\n        const user = data.data\n        // Check if user is approved (for centre admins)\n        if (user.role === 'centre_admin' && user.status && user.status !== 'approved') {\n          if (user.status === 'pending') {\n            alert('Your registration is pending approval. Please wait for super admin approval.')\n            return\n          } else if (user.status === 'rejected') {\n            alert(user.rejectionReason || 'Your registration has been rejected. Please contact support.')\n            return\n          }\n        }\n      setCurrentUser(user)\n      localStorage.setItem(\"nrcms_current_user\", JSON.stringify(user))\n    } else {\n        alert(data.error || \"Invalid email or password!\")\n      }\n    } catch (error) {\n      console.error(\"Login error:\", error)\n      alert(\"Login failed. Please check your connection and try again.\")\n    }\n  }\n\n  const handleLogout = () => {\n    setCurrentUser(null)\n    localStorage.removeItem(\"nrcms_current_user\")\n  }\n\n  const openModal = (title: string, content: React.ReactNode, type?: string, props?: Record<string, unknown>) => {\n    setModalTitle(title)\n    setModalContent(content)\n    setModalType(type || null)\n    setModalProps(props || null)\n    setModalOpen(true)\n  }\n\n  const closeModal = () => {\n    setModalOpen(false)\n    setModalTitle(\"\")\n    setModalContent(null)\n    setModalType(null)\n    setModalProps(null)\n    setFormData({})\n    // Reset focus tracker when modal closes\n    modalFocusTracker.current = { type: null, hasFocused: false }\n  }\n\n  // Filter functions\n  const getFilteredCentres = () => {\n    let filtered = centres\n    if (currentUser?.role === \"centre_admin\") {\n      filtered = filtered.filter((c) => c.id === currentUser.centreId)\n    }\n    if (centreSearch) {\n      filtered = filtered.filter(\n        (c) =>\n          c.name.toLowerCase().includes(centreSearch.toLowerCase()) ||\n          c.id.toLowerCase().includes(centreSearch.toLowerCase()),\n      )\n    }\n    if (stateFilter) {\n      filtered = filtered.filter((c) => c.state === stateFilter)\n    }\n    return filtered\n  }\n\n  const getFilteredPatients = () => {\n    let filtered = patients\n    if (currentUser?.role === \"centre_admin\") {\n      filtered = filtered.filter((p) => p.centreId === currentUser.centreId)\n    }\n    if (patientSearch) {\n      filtered = filtered.filter(\n        (p) =>\n          p.name.toLowerCase().includes(patientSearch.toLowerCase()) ||\n          p.id.toLowerCase().includes(patientSearch.toLowerCase()) ||\n          p.aadharNumber.includes(patientSearch),\n      )\n    }\n    if (centreFilter) {\n      filtered = filtered.filter((p) => p.centreId === centreFilter)\n    }\n    if (statusFilter) {\n      filtered = filtered.filter((p) => p.status === statusFilter)\n    }\n    return filtered\n  }\n\n  const getFilteredQueries = () => {\n    let filtered = queries\n    if (currentUser?.role === \"centre_admin\") {\n      filtered = filtered.filter((q) => q.centreId === currentUser.centreId)\n    }\n    if (queryStatusFilter) {\n      filtered = filtered.filter((q) => (q.status || 'open') === queryStatusFilter)\n    }\n    if (queryPriorityFilter) {\n      filtered = filtered.filter((q) => (q.priority || 'medium') === queryPriorityFilter)\n    }\n    if (querySearch) {\n      filtered = filtered.filter(\n        (q) =>\n          (q.id || '').toLowerCase().includes(querySearch.toLowerCase()) ||\n          (q.subject || '').toLowerCase().includes(querySearch.toLowerCase()) ||\n          (q.centreName || '').toLowerCase().includes(querySearch.toLowerCase())\n      )\n    }\n    return filtered\n  }\n\n  const getFilteredOrders = () => {\n    let filtered = orders\n    if (currentUser?.role === \"centre_admin\") {\n      filtered = filtered.filter((o) => o.targetCentreId === currentUser.centreId || o.targetCentreId === null)\n    }\n    if (orderStatusFilter) {\n      filtered = filtered.filter((o) => o.status === orderStatusFilter)\n    }\n    if (orderPriorityFilter) {\n      filtered = filtered.filter((o) => o.priority === orderPriorityFilter)\n    }\n    if (orderSearch) {\n      filtered = filtered.filter(\n        (o) =>\n          o.id.toLowerCase().includes(orderSearch.toLowerCase()) ||\n          o.subject.toLowerCase().includes(orderSearch.toLowerCase()) ||\n          (o.targetCentreName && o.targetCentreName.toLowerCase().includes(orderSearch.toLowerCase()))\n      )\n    }\n    return filtered\n  }\n\n  // Stats\n  const filteredCentresForStats =\n    currentUser?.role === \"centre_admin\" ? centres.filter((c) => c.id === currentUser.centreId) : centres\n  const filteredPatientsForStats =\n    currentUser?.role === \"centre_admin\" ? patients.filter((p) => p.centreId === currentUser.centreId) : patients\n  const filteredQueriesForStats =\n    currentUser?.role === \"centre_admin\" ? queries.filter((q) => q.centreId === currentUser.centreId) : queries\n  const filteredOrdersForStats =\n    currentUser?.role === \"centre_admin\"\n      ? orders.filter((o) => o.targetCentreId === currentUser.centreId || o.targetCentreId === null)\n      : orders\n\n  const stats = {\n    totalCentres: filteredCentresForStats.length,\n    totalPatients: filteredPatientsForStats.length,\n    totalStates: [...new Set(filteredCentresForStats.map((c) => c.state))].length,\n    pendingQueries: filteredQueriesForStats.filter((q) => q.status === \"open\" || q.status === \"in_progress\").length,\n  }\n\n  const centresByState = INDIAN_STATES.map((state) => ({\n    state,\n    count: filteredCentresForStats.filter((c) => c.state === state).length,\n  })).filter((s) => s.count > 0)\n\n  const patientsByStatus = [\n    {\n      status: \"admitted\",\n      count: filteredPatientsForStats.filter((p) => p.status === \"admitted\").length,\n      color: \"#3b82f6\",\n    },\n    {\n      status: \"under_treatment\",\n      count: filteredPatientsForStats.filter((p) => p.status === \"under_treatment\").length,\n      color: \"#f59e0b\",\n    },\n    {\n      status: \"recovering\",\n      count: filteredPatientsForStats.filter((p) => p.status === \"recovering\").length,\n      color: \"#10b981\",\n    },\n    {\n      status: \"discharged\",\n      count: filteredPatientsForStats.filter((p) => p.status === \"discharged\").length,\n      color: \"#6b7280\",\n    },\n  ]\n\n  const addictionStats = ADDICTION_TYPES.map((type) => ({\n    type,\n    count: filteredPatientsForStats.filter((p) => p.addictionType === type).length,\n  })).filter((a) => a.count > 0)\n\n  // CRUD Operations\n  const saveCentre = async (isEdit: boolean, centreId?: string) => {\n    // Access control: Centre admin can only update their own centre\n    if (currentUser?.role === \"centre_admin\") {\n      if (!isEdit || !centreId || centreId !== currentUser.centreId) {\n        alert(\"You can only update your own centre details!\")\n        return\n      }\n    } else if (currentUser?.role !== \"super_admin\") {\n      alert(\"Only super admin can manage centres!\")\n      return\n    }\n\n    try {\n      if (isEdit && centreId) {\n        const response = await centresAPI.update({\n          ...formData,\n          id: centreId,\n          role: currentUser?.role,\n          centreId: currentUser?.role === \"centre_admin\" ? currentUser.centreId : centreId,\n        })\n        if (response.success) {\n          await fetchAllData() // Refresh data\n          alert(\"Centre updated successfully!\")\n        } else {\n          alert(response.error || \"Failed to update centre\")\n        }\n      } else {\n        // Only super admin can create centres\n        if (currentUser?.role !== \"super_admin\") {\n          alert(\"Only super admin can create centres!\")\n          return\n        }\n        const response = await centresAPI.create({\n          ...formData,\n          role: currentUser.role,\n        })\n        if (response.success) {\n          await fetchAllData() // Refresh data\n          alert(\"Centre created successfully!\")\n        } else {\n          alert(response.error || \"Failed to create centre\")\n        }\n      }\n      closeModal()\n    } catch (error) {\n      console.error(\"Error saving centre:\", error)\n      alert(\"Error saving centre. Please try again.\")\n    }\n  }\n\n  const deleteCentre = async (id: string) => {\n    // Access control: Only super admin can delete centres\n    if (currentUser?.role !== \"super_admin\") {\n      alert(\"Only super admin can delete centres!\")\n      return\n    }\n\n    if (confirm(\"Are you sure you want to delete this centre?\")) {\n      try {\n        const response = await centresAPI.delete(id, currentUser.role)\n        if (response.success) {\n          await fetchAllData() // Refresh data\n          alert(\"Centre deleted successfully!\")\n        } else {\n          alert(response.error || \"Failed to delete centre\")\n        }\n      } catch (error) {\n        console.error(\"Error deleting centre:\", error)\n        alert(\"Error deleting centre. Please try again.\")\n      }\n    }\n  }\n\n  const savePatient = async (isEdit: boolean, patientId?: string) => {\n    // Access control: Centre admin can only manage patients from their centre\n    if (currentUser?.role === \"centre_admin\") {\n      // Validate that centreId exists for centre admin\n      if (!currentUser.centreId) {\n        alert(\"Error: Centre ID not found. Please contact support.\")\n        return\n      }\n      \n    if (isEdit && patientId) {\n        const existingPatient = patients.find((p) => p.id === patientId)\n        if (existingPatient && existingPatient.centreId !== currentUser.centreId) {\n          alert(\"You don't have permission to edit patients from other centres!\")\n          return\n        }\n        // Ensure centre admin cannot change the centreId\n        formData.centreId = currentUser.centreId\n    } else {\n        // New patient must belong to centre admin's centre\n        formData.centreId = currentUser.centreId\n      }\n    }\n\n    // Validate required fields before submission\n    if (!formData.name || !String(formData.name).trim()) {\n      alert(\"Patient name is required\")\n      return\n    }\n\n    if (!formData.dob || !String(formData.dob).trim()) {\n      alert(\"Date of birth is required\")\n      return\n    }\n\n    // Validate centreId for super admin\n    if (currentUser?.role === \"super_admin\") {\n      if (!formData.centreId || formData.centreId === \"\" || formData.centreId === \"undefined\" || formData.centreId === \"null\") {\n        alert(\"Please select a centre for the patient\")\n        return\n      }\n    }\n\n    try {\n      const age = calculateAge((formData.dob as string) || \"\")\n      \n      // Determine centreId: Centre admin always uses their own, super admin uses form selection\n      const centreId = currentUser?.role === \"centre_admin\"\n        ? currentUser.centreId\n        : formData.centreId\n\n      // Validate centreId before proceeding\n      if (!centreId) {\n        alert(\"Centre ID is required. Please select a centre.\")\n        return\n      }\n\n      // Build patient data - ensure centreId is always set correctly\n      const patientData: Record<string, unknown> = {\n        ...formData,\n        age,\n        role: currentUser?.role || \"\",\n        centreId, // Use the guaranteed centreId value\n      }\n\n      if (isEdit && patientId) {\n        const response = await patientsAPI.update({\n          ...patientData,\n          id: patientId,\n        })\n        if (response.success) {\n          await fetchAllData() // Refresh data\n          alert(\"Patient updated successfully!\")\n        } else {\n          alert(response.error || \"Failed to update patient\")\n        }\n      } else {\n        const response = await patientsAPI.create(patientData)\n        if (response.success) {\n          // Refresh data FIRST to ensure new patient appears immediately\n          await fetchAllData()\n          // Then close modal and clear form data\n          closeModal()\n          setFormData({})\n          alert(\"Patient created successfully!\")\n        } else {\n          alert(response.error || \"Failed to create patient\")\n        }\n    }\n    } catch (error) {\n      console.error(\"Error saving patient:\", error)\n      const errorMessage = error instanceof Error ? error.message : \"Unknown error\"\n      // The API error message should already be user-friendly\n      alert(`Error saving patient: ${errorMessage}`)\n    }\n  }\n\n  const deletePatient = async (id: string) => {\n    // Access control: Centre admin can only delete patients from their centre\n    if (currentUser?.role === \"centre_admin\") {\n      const patient = patients.find((p) => p.id === id)\n      if (patient && patient.centreId !== currentUser.centreId) {\n        alert(\"You don't have permission to delete patients from other centres!\")\n        return\n      }\n    }\n\n    if (confirm(\"Are you sure you want to delete this patient?\")) {\n      try {\n        const response = await patientsAPI.delete(id, currentUser?.role || \"\", currentUser?.centreId || undefined)\n        if (response.success) {\n          await fetchAllData() // Refresh data\n          alert(\"Patient deleted successfully!\")\n        } else {\n          alert(response.error || \"Failed to delete patient\")\n        }\n      } catch (error) {\n        console.error(\"Error deleting patient:\", error)\n        alert(\"Error deleting patient. Please try again.\")\n      }\n    }\n  }\n\n  const saveQuery = async () => {\n    // Determine centreId: Centre admin always uses their own, super admin uses form selection\n    const centreId = currentUser?.role === \"centre_admin\"\n      ? currentUser.centreId\n      : formData.centreId\n\n    // Validate centreId before proceeding\n    if (!centreId) {\n      alert(\"Centre ID is required for queries.\")\n      return\n    }\n    \n    // Validate subject\n    if (!formData.subject || !String(formData.subject).trim()) {\n      alert(\"Subject is required\")\n      return\n    }\n\n    try {\n      const response = await queriesAPI.create({\n        ...formData,\n        centreId, // Use the guaranteed centreId value\n        createdBy: currentUser?.name ?? \"\",\n        role: currentUser?.role,\n      })\n      if (response.success) {\n        // Refresh data FIRST to ensure new query appears immediately\n        await fetchAllData()\n        // Then close modal and clear form data\n        closeModal()\n        setFormData({})\n        alert(\"Query submitted successfully!\")\n      } else {\n        alert(response.error || \"Failed to submit query\")\n      }\n    } catch (error) {\n      console.error(\"Error saving query:\", error)\n      alert(\"Error submitting query. Please try again.\")\n    }\n  }\n\n  const addQueryResponse = async (queryId: string, message: string) => {\n    // Access control: Centre admin can only respond to queries from their centre\n    if (currentUser?.role === \"centre_admin\") {\n      if (!currentUser.centreId) {\n        alert(\"Error: Centre ID not found. Please contact support.\")\n        return\n      }\n      const query = queries.find((q) => q.id === queryId)\n      if (query && query.centreId !== currentUser.centreId) {\n        alert(\"You don't have permission to respond to queries from other centres!\")\n        return\n      }\n    }\n\n    try {\n      const response = await queriesAPI.addResponse({\n        queryId,\n                message,\n                respondedBy: currentUser?.name || \"\",\n        role: currentUser?.role,\n        centreId: currentUser?.role === \"centre_admin\" ? currentUser.centreId : undefined,\n      })\n      if (response.success) {\n        await fetchAllData() // Refresh data\n        alert(\"Response added successfully!\")\n      } else {\n        alert(response.error || \"Failed to add response\")\n      }\n    } catch (error) {\n      console.error(\"Error adding response:\", error)\n      alert(\"Error adding response. Please try again.\")\n    }\n  }\n\n  const updateQueryStatus = async (queryId: string, status: Query[\"status\"]) => {\n    // Access control: Only super admin can update query status\n    if (currentUser?.role !== \"super_admin\") {\n      alert(\"Only super admin can update query status!\")\n      return\n    }\n    try {\n      const response = await queriesAPI.updateStatus({\n        id: queryId,\n        status,\n        role: currentUser.role,\n      })\n      if (response.success) {\n        await fetchAllData() // Refresh data\n      } else {\n        alert(response.error || \"Failed to update query status\")\n      }\n    } catch (error) {\n      console.error(\"Error updating query status:\", error)\n      alert(\"Error updating query status. Please try again.\")\n    }\n  }\n\n  const saveOrder = async () => {\n    // Access control: Only super admin can create orders\n    if (currentUser?.role !== \"super_admin\") {\n      alert(\"Only super admin can issue orders!\")\n      return\n    }\n\n    // Validate required fields before submission\n    if (!formData.subject || !String(formData.subject).trim()) {\n      alert(\"Subject is required\")\n      return\n    }\n\n    if (!formData.instruction || !String(formData.instruction).trim()) {\n      alert(\"Instruction is required\")\n      return\n    }\n\n    if (!formData.deadline || !String(formData.deadline).trim()) {\n      alert(\"Deadline is required\")\n      return\n    }\n\n    if (!formData.priority) {\n      alert(\"Priority is required\")\n      return\n    }\n\n    try {\n      const response = await ordersAPI.create({\n      ...formData,\n      issuedBy: currentUser?.name || \"\",\n        role: currentUser.role,\n      })\n      if (response.success) {\n        await fetchAllData() // Refresh data\n        alert(\"Order issued successfully!\")\n    closeModal()\n      } else {\n        alert(response.error || \"Failed to issue order\")\n      }\n    } catch (error) {\n      console.error(\"Error saving order:\", error)\n      const errorMessage = error instanceof Error ? error.message : \"Unknown error\"\n      alert(`Error issuing order: ${errorMessage}. Please check all fields and try again.`)\n    }\n  }\n\n  const acknowledgeOrder = async (orderId: string) => {\n    // Access control: Centre admin can only acknowledge orders for their centre\n    if (currentUser?.role === \"centre_admin\") {\n      if (!currentUser.centreId) {\n        alert(\"Error: Centre ID not found. Please contact support.\")\n        return\n      }\n      const order = orders.find((o) => o.id === orderId)\n      if (order && order.targetCentreId !== null && order.targetCentreId !== currentUser.centreId) {\n        alert(\"You don't have permission to acknowledge orders for other centres!\")\n        return\n      }\n    }\n\n    try {\n      const response = await ordersAPI.acknowledge({\n        orderId,\n                acknowledgedBy: currentUser?.name || \"\",\n        role: currentUser?.role,\n        centreId: currentUser?.role === \"centre_admin\" ? currentUser.centreId : undefined,\n      })\n      if (response.success) {\n        await fetchAllData() // Refresh data\n        alert(\"Order acknowledged successfully!\")\n      } else {\n        alert(response.error || \"Failed to acknowledge order\")\n      }\n    } catch (error) {\n      console.error(\"Error acknowledging order:\", error)\n      alert(\"Error acknowledging order. Please try again.\")\n    }\n  }\n\n  const updateOrderStatus = async (orderId: string, status: Order[\"status\"]) => {\n    // Access control: Centre admin can only update orders for their centre\n    if (currentUser?.role === \"centre_admin\") {\n      if (!currentUser.centreId) {\n        alert(\"Error: Centre ID not found. Please contact support.\")\n        return\n      }\n      const order = orders.find((o) => o.id === orderId)\n      if (order && order.targetCentreId !== null && order.targetCentreId !== currentUser.centreId) {\n        alert(\"You don't have permission to update orders for other centres!\")\n        return\n      }\n      // Centre admin can only mark as completed, not other statuses\n      if (status !== \"completed\") {\n        alert(\"You can only mark orders as completed!\")\n        return\n      }\n    }\n\n    try {\n      const response = await ordersAPI.updateStatus({\n        id: orderId,\n        status,\n        role: currentUser?.role,\n        centreId: currentUser?.role === \"centre_admin\" ? currentUser.centreId : undefined,\n      })\n      if (response.success) {\n        await fetchAllData() // Refresh data\n      } else {\n        alert(response.error || \"Failed to update order status\")\n      }\n    } catch (error) {\n      console.error(\"Error updating order status:\", error)\n      alert(\"Error updating order status. Please try again.\")\n    }\n  }\n\n  const addMedication = async (patientId: string) => {\n    // Access control: Centre admin can only add medications to patients from their centre\n    if (currentUser?.role === \"centre_admin\") {\n      const patient = patients.find((p) => p.id === patientId)\n      if (patient && patient.centreId !== currentUser.centreId) {\n        alert(\"You don't have permission to add medications to patients from other centres!\")\n        return\n      }\n    }\n\n    try {\n      const response = await patientsAPI.addMedication({\n        patientId,\n        medication: formData,\n        role: currentUser?.role,\n        centreId: currentUser?.centreId || undefined,\n      })\n      if (response.success) {\n        await fetchAllData() // Refresh data\n        alert(\"Medication added successfully!\")\n    closeModal()\n      } else {\n        alert(response.error || \"Failed to add medication\")\n      }\n    } catch (error) {\n      console.error(\"Error adding medication:\", error)\n      alert(\"Error adding medication. Please try again.\")\n    }\n  }\n\n  // Form Components\n  const CentreForm = ({ centre }: { centre?: Centre }) => {\n    const nameInputRef = useRef<HTMLInputElement>(null)\n    \n    // Focus first input only once when modal opens (prevents jumping on re-render)\n    useEffect(() => {\n      const modalKey = centre ? `editCentre-${centre.id}` : 'addCentre'\n      if (modalOpen && !centre && nameInputRef.current) {\n        const shouldFocus = (modalFocusTracker.current.type !== modalKey || !modalFocusTracker.current.hasFocused) &&\n                           document.activeElement !== nameInputRef.current\n        \n        if (shouldFocus) {\n          nameInputRef.current.focus()\n          modalFocusTracker.current = { type: modalKey, hasFocused: true }\n        }\n      }\n    }, [modalOpen, centre])\n    \n    return (\n    <form\n      onSubmit={(e) => {\n        e.preventDefault()\n        saveCentre(!!centre, centre?.id)\n      }}\n    >\n      <div className=\"form-row\">\n        <div className=\"form-group\">\n          <label>Centre Name *</label>\n          <input\n              ref={nameInputRef}\n            type=\"text\"\n            value={(formData.name as string) || centre?.name || \"\"}\n            onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>State *</label>\n          <select\n            value={(formData.state as string) || centre?.state || \"\"}\n            onChange={(e) => setFormData({ ...formData, state: e.target.value })}\n            required\n            disabled={currentUser?.role === \"centre_admin\" && !!centre}\n          >\n            <option value=\"\">Select State</option>\n            {INDIAN_STATES.map((state) => (\n              <option key={state} value={state}>\n                {state}\n              </option>\n            ))}\n          </select>\n          {currentUser?.role === \"centre_admin\" && !!centre && (\n            <small style={{ color: \"var(--gray-500)\", fontSize: \"0.85rem\", display: \"block\", marginTop: \"4px\" }}>\n              State cannot be changed (affects centre ID)\n            </small>\n          )}\n        </div>\n      </div>\n      <div className=\"form-row\">\n        <div className=\"form-group\">\n          <label>City *</label>\n          <input\n            type=\"text\"\n            value={(formData.city as string) || centre?.city || \"\"}\n            onChange={(e) => setFormData({ ...formData, city: e.target.value })}\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>Capacity *</label>\n          <input\n            type=\"number\"\n            value={(formData.capacity as number) || centre?.capacity || \"\"}\n            onChange={(e) => setFormData({ ...formData, capacity: Number.parseInt(e.target.value) })}\n            required\n          />\n        </div>\n      </div>\n      <div className=\"form-group\">\n        <label>Address *</label>\n        <textarea\n            value={(formData.address as string) || centre?.address || \"\"}\n          onChange={(e) => setFormData({ ...formData, address: e.target.value })}\n          rows={2}\n          required\n        />\n      </div>\n      <div className=\"form-row\">\n        <div className=\"form-group\">\n          <label>Phone *</label>\n          <input\n            type=\"tel\"\n            value={(formData.phone as string) || centre?.phone || \"\"}\n            onChange={(e) => setFormData({ ...formData, phone: e.target.value })}\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>Email *</label>\n          <input\n            type=\"email\"\n            value={(formData.email as string) || centre?.email || \"\"}\n            onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n            required\n          />\n        </div>\n      </div>\n      <div className=\"form-row\">\n        <div className=\"form-group\">\n          <label>Administrator Name *</label>\n          <input\n            type=\"text\"\n            value={(formData.administrator as string) || centre?.administrator || \"\"}\n            onChange={(e) => setFormData({ ...formData, administrator: e.target.value })}\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>Administrator Email *</label>\n          <input\n            type=\"email\"\n            value={(formData.adminEmail as string) || centre?.adminEmail || \"\"}\n            onChange={(e) => setFormData({ ...formData, adminEmail: e.target.value })}\n            required\n          />\n        </div>\n      </div>\n      <div className=\"form-group\">\n        <label>Status *</label>\n        <select\n          value={(formData.status as string) || centre?.status || \"active\"}\n          onChange={(e) => setFormData({ ...formData, status: e.target.value })}\n          required\n        >\n          <option value=\"active\">Active</option>\n          <option value=\"inactive\">Inactive</option>\n        </select>\n      </div>\n      <div className=\"form-actions\">\n        <button type=\"button\" className=\"btn btn-outline\" onClick={closeModal}>\n          Cancel\n        </button>\n        <button type=\"submit\" className=\"btn btn-primary\">\n          {centre ? \"Update\" : \"Add\"} Centre\n        </button>\n      </div>\n    </form>\n  )\n  }\n\n  const PatientForm = ({ patient }: { patient?: Patient }) => {\n    const availableCentres =\n      currentUser?.role === \"centre_admin\" ? centres.filter((c) => c.id === currentUser.centreId) : centres\n    const nameInputRef = useRef<HTMLInputElement>(null)\n    \n    // Focus first input only once when modal opens (prevents jumping on re-render)\n    useEffect(() => {\n      const modalKey = patient ? `editPatient-${patient.id}` : 'addPatient'\n      if (modalOpen && !patient && nameInputRef.current) {\n        const shouldFocus = (modalFocusTracker.current.type !== modalKey || !modalFocusTracker.current.hasFocused) &&\n                           document.activeElement !== nameInputRef.current\n        \n        if (shouldFocus) {\n          nameInputRef.current.focus()\n          modalFocusTracker.current = { type: modalKey, hasFocused: true }\n        }\n      }\n    }, [modalOpen, patient])\n    \n    return (\n      <form\n        onSubmit={(e) => {\n          e.preventDefault()\n          savePatient(!!patient, patient?.id)\n        }}\n      >\n        <div className=\"form-row\">\n          <div className=\"form-group\">\n            <label>Full Name *</label>\n            <input\n              ref={nameInputRef}\n              type=\"text\"\n              value={String(formData.name || patient?.name || \"\")}\n              onChange={(e) => {\n                setFormData({ ...formData, name: e.target.value })\n              }}\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <label>Date of Birth *</label>\n            <input\n              type=\"text\"\n              value={formatDateInput((formData.dob as string) || patient?.dob || \"\")}\n              onChange={(e) => {\n                const formatted = formatDateInputValue(e.target.value)\n                setFormData({ ...formData, dob: formatted })\n              }}\n              placeholder=\"DD/MM/YYYY\"\n              maxLength={10}\n              required\n            />\n            <small style={{ color: \"var(--gray-600)\", fontSize: \"0.85rem\" }}>\n              Format: DD/MM/YYYY (e.g., 15/05/1990)\n            </small>\n          </div>\n        </div>\n        <div className=\"form-row\">\n          <div className=\"form-group\">\n            <label>Gender *</label>\n            <select\n              value={(formData.gender as string) || patient?.gender || \"\"}\n              onChange={(e) => setFormData({ ...formData, gender: e.target.value })}\n              required\n            >\n              <option value=\"\">Select</option>\n              <option value=\"male\">Male</option>\n              <option value=\"female\">Female</option>\n              <option value=\"other\">Other</option>\n            </select>\n          </div>\n          <div className=\"form-group\">\n            <label>Phone *</label>\n            <input\n              type=\"tel\"\n              value={String(formData.phone || patient?.phone || \"\")}\n              onChange={(e) => {\n                setFormData({ ...formData, phone: e.target.value })\n              }}\n              required\n            />\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label>Address *</label>\n          <textarea\n            value={String(formData.address || patient?.address || \"\")}\n            onChange={(e) => {\n              setFormData({ ...formData, address: e.target.value })\n            }}\n            rows={2}\n            required\n          />\n        </div>\n        <div className=\"form-row\">\n          <div className=\"form-group\">\n            <label>Aadhar Number *</label>\n            <input\n              type=\"text\"\n              value={String(formData.aadharNumber || patient?.aadharNumber || \"\")}\n              onChange={(e) => {\n                setFormData({ ...formData, aadharNumber: e.target.value })\n              }}\n              placeholder=\"XXXX-XXXX-XXXX\"\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <label>Email</label>\n            <input\n              type=\"email\"\n              value={(formData.email as string) || patient?.email || \"\"}\n              onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n            />\n          </div>\n        </div>\n        <div className=\"form-row\">\n          <div className=\"form-group\">\n            <label>Family Contact Name *</label>\n            <input\n              type=\"text\"\n              value={String(formData.familyContactName || patient?.familyContactName || \"\")}\n              onChange={(e) => {\n                setFormData({ ...formData, familyContactName: e.target.value })\n              }}\n              placeholder=\"Name (Relation)\"\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <label>Family Phone *</label>\n            <input\n              type=\"tel\"\n              value={String(formData.familyContactPhone || patient?.familyContactPhone || \"\")}\n              onChange={(e) => {\n                setFormData({ ...formData, familyContactPhone: e.target.value })\n              }}\n              required\n            />\n          </div>\n        </div>\n        <div className=\"form-row\">\n          <div className=\"form-group\">\n            <label>Addiction Type *</label>\n            <select\n              value={(formData.addictionType as string) || patient?.addictionType || \"\"}\n              onChange={(e) => setFormData({ ...formData, addictionType: e.target.value })}\n              required\n            >\n              <option value=\"\">Select</option>\n              {ADDICTION_TYPES.map((type) => (\n                <option key={type} value={type}>\n                  {type}\n                </option>\n              ))}\n            </select>\n          </div>\n          <div className=\"form-group\">\n            <label>Centre *</label>\n            <select\n              value={\n                (currentUser?.role === \"centre_admin\" && currentUser.centreId) \n                  ? currentUser.centreId \n                  : ((formData.centreId as string) || patient?.centreId || \"\")\n              }\n              onChange={(e) => setFormData({ ...formData, centreId: e.target.value })}\n              required\n              disabled={currentUser?.role === \"centre_admin\"}\n            >\n              <option value=\"\">Select Centre</option>\n              {availableCentres.map((c) => (\n                <option key={c.id} value={c.id}>\n                  {c.name}\n                </option>\n              ))}\n            </select>\n            {currentUser?.role === \"centre_admin\" && (\n              <small style={{ color: \"var(--gray-500)\", fontSize: \"0.85rem\", display: \"block\", marginTop: \"4px\" }}>\n                Centre is fixed to your assigned centre\n              </small>\n            )}\n          </div>\n        </div>\n        <div className=\"form-row\">\n          <div className=\"form-group\">\n            <label>Admission Date *</label>\n            <input\n              type=\"text\"\n              value={formatDateInput((formData.admissionDate as string) || patient?.admissionDate || \"\")}\n              onChange={(e) => {\n                const formatted = formatDateInputValue(e.target.value)\n                setFormData({ ...formData, admissionDate: formatted })\n              }}\n              placeholder=\"DD/MM/YYYY\"\n              maxLength={10}\n              required\n            />\n            <small style={{ color: \"var(--gray-600)\", fontSize: \"0.85rem\" }}>\n              Format: DD/MM/YYYY (e.g., 15/05/2024)\n            </small>\n          </div>\n          <div className=\"form-group\">\n            <label>Status *</label>\n            <select\n              value={(formData.status as string) || patient?.status || \"admitted\"}\n              onChange={(e) => setFormData({ ...formData, status: e.target.value })}\n              required\n            >\n              <option value=\"admitted\">Admitted</option>\n              <option value=\"under_treatment\">Under Treatment</option>\n              <option value=\"recovering\">Recovering</option>\n              <option value=\"discharged\">Discharged</option>\n            </select>\n          </div>\n        </div>\n        <div className=\"form-actions\">\n          <button type=\"button\" className=\"btn btn-outline\" onClick={closeModal}>\n            Cancel\n          </button>\n          <button type=\"submit\" className=\"btn btn-primary\">\n            {patient ? \"Update\" : \"Add\"} Patient\n          </button>\n        </div>\n      </form>\n    )\n  }\n\n  const QueryForm = () => {\n    const availableCentres =\n      currentUser?.role === \"centre_admin\" ? centres.filter((c) => c.id === currentUser.centreId) : centres\n    const subjectInputRef = useRef<HTMLInputElement>(null)\n    \n    // Focus subject input only once when modal opens (prevents jumping on re-render)\n    useEffect(() => {\n      const modalKey = 'addQuery'\n      if (modalOpen && subjectInputRef.current) {\n        const shouldFocus = (modalFocusTracker.current.type !== modalKey || !modalFocusTracker.current.hasFocused) &&\n                           document.activeElement !== subjectInputRef.current\n        \n        if (shouldFocus) {\n          subjectInputRef.current.focus()\n          modalFocusTracker.current = { type: modalKey, hasFocused: true }\n        }\n      }\n    }, [modalOpen])\n    \n    return (\n      <form\n        onSubmit={(e) => {\n          e.preventDefault()\n          saveQuery()\n        }}\n      >\n        <div className=\"form-group\">\n          <label>Centre *</label>\n          <select\n            value={\n              (currentUser?.role === \"centre_admin\" && currentUser.centreId) \n                ? currentUser.centreId \n                : String(formData.centreId || \"\")\n            }\n            onChange={(e) => {\n              setFormData({ ...formData, centreId: e.target.value })\n            }}\n            required\n            disabled={currentUser?.role === \"centre_admin\"}\n          >\n            <option value=\"\">Select Centre</option>\n            {availableCentres.map((c) => (\n              <option key={c.id} value={c.id}>\n                {c.name}\n              </option>\n            ))}\n          </select>\n        </div>\n        <div className=\"form-group\">\n          <label>Subject *</label>\n          <input\n            ref={subjectInputRef}\n            type=\"text\"\n            value={String(formData.subject || \"\")}\n            onChange={(e) => {\n              setFormData({ ...formData, subject: e.target.value })\n            }}\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>Description *</label>\n          <textarea\n            className=\"response-textarea\"\n            value={String(formData.description || \"\")}\n            onChange={(e) => {\n              setFormData({ ...formData, description: e.target.value })\n            }}\n            rows={4}\n            required\n            placeholder=\"Describe your query in detail...\"\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>Priority *</label>\n          <select\n            value={String(formData.priority || \"medium\")}\n            onChange={(e) => {\n              setFormData({ ...formData, priority: e.target.value })\n            }}\n            required\n          >\n            <option value=\"low\">Low</option>\n            <option value=\"medium\">Medium</option>\n            <option value=\"high\">High</option>\n            <option value=\"urgent\">Urgent</option>\n          </select>\n        </div>\n        <div className=\"form-actions\">\n          <button type=\"button\" className=\"btn btn-outline\" onClick={closeModal}>\n            Cancel\n          </button>\n          <button type=\"submit\" className=\"btn btn-primary\">\n            Submit Query\n          </button>\n        </div>\n      </form>\n    )\n  }\n\n  const OrderForm = () => {\n    const subjectInputRef = useRef<HTMLInputElement>(null)\n    \n    // Focus subject input only once when modal opens (prevents jumping on re-render)\n    useEffect(() => {\n      const modalKey = 'addOrder'\n      if (modalOpen && subjectInputRef.current) {\n        const shouldFocus = (modalFocusTracker.current.type !== modalKey || !modalFocusTracker.current.hasFocused) &&\n                           document.activeElement !== subjectInputRef.current\n        \n        if (shouldFocus) {\n          subjectInputRef.current.focus()\n          modalFocusTracker.current = { type: modalKey, hasFocused: true }\n        }\n      }\n    }, [modalOpen])\n    \n    return (\n    <form\n      onSubmit={(e) => {\n        e.preventDefault()\n        saveOrder()\n      }}\n    >\n      <div className=\"form-group\">\n        <label>Target Centre</label>\n        <select\n            value={String(formData.targetCentreId || \"\")}\n            onChange={(e) => {\n              setFormData({ ...formData, targetCentreId: e.target.value || null })\n            }}\n        >\n          <option value=\"\">All Centres</option>\n          {centres.map((c) => (\n            <option key={c.id} value={c.id}>\n              {c.name}\n            </option>\n          ))}\n        </select>\n      </div>\n      <div className=\"form-group\">\n        <label>Subject *</label>\n        <input\n            ref={subjectInputRef}\n          type=\"text\"\n            value={String(formData.subject || \"\")}\n            onChange={(e) => {\n              setFormData({ ...formData, subject: e.target.value })\n            }}\n          required\n        />\n      </div>\n      <div className=\"form-group\">\n        <label>Instructions *</label>\n        <textarea\n          className=\"response-textarea\"\n          value={String(formData.instruction || \"\")}\n          onChange={(e) => {\n            setFormData({ ...formData, instruction: e.target.value })\n          }}\n          rows={4}\n          required\n          placeholder=\"Enter detailed instructions for the centres...\"\n        />\n      </div>\n      <div className=\"form-row\">\n        <div className=\"form-group\">\n          <label>Priority *</label>\n          <select\n            value={String(formData.priority || \"medium\")}\n            onChange={(e) => {\n              setFormData({ ...formData, priority: e.target.value })\n            }}\n            required\n          >\n            <option value=\"low\">Low</option>\n            <option value=\"medium\">Medium</option>\n            <option value=\"high\">High</option>\n            <option value=\"critical\">Critical</option>\n          </select>\n        </div>\n        <div className=\"form-group\">\n          <label>Deadline *</label>\n          <input\n            type=\"text\"\n            value={formatDateInput(String(formData.deadline || \"\"))}\n            onChange={(e) => {\n              const formatted = formatDateInputValue(e.target.value)\n              setFormData({ ...formData, deadline: formatted })\n            }}\n            placeholder=\"DD/MM/YYYY\"\n            maxLength={10}\n            required\n          />\n          <small style={{ color: \"var(--gray-600)\", fontSize: \"0.85rem\" }}>\n            Format: DD/MM/YYYY (e.g., 15/05/2024)\n          </small>\n        </div>\n      </div>\n      <div className=\"form-actions\">\n        <button type=\"button\" className=\"btn btn-outline\" onClick={closeModal}>\n          Cancel\n        </button>\n        <button type=\"submit\" className=\"btn btn-primary\">\n          Issue Order\n        </button>\n      </div>\n    </form>\n  )\n  }\n\n  const MedicationForm = ({ patientId }: { patientId: string }) => {\n    const nameInputRef = useRef<HTMLInputElement>(null)\n    \n    // Focus first input only once when modal opens (prevents jumping on re-render)\n    useEffect(() => {\n      const modalKey = `addMedication-${patientId}`\n      if (modalOpen && nameInputRef.current) {\n        const shouldFocus = (modalFocusTracker.current.type !== modalKey || !modalFocusTracker.current.hasFocused) &&\n                           document.activeElement !== nameInputRef.current\n        \n        if (shouldFocus) {\n          nameInputRef.current.focus()\n          modalFocusTracker.current = { type: modalKey, hasFocused: true }\n        }\n      }\n    }, [modalOpen, patientId])\n    \n    return (\n    <form\n      onSubmit={(e) => {\n        e.preventDefault()\n        addMedication(patientId)\n      }}\n    >\n      <div className=\"form-row\">\n        <div className=\"form-group\">\n          <label>Medication Name *</label>\n          <input\n              ref={nameInputRef}\n            type=\"text\"\n            value={formData.name || \"\"}\n            onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>Dosage *</label>\n          <input\n            type=\"text\"\n            value={formData.dosage || \"\"}\n            onChange={(e) => setFormData({ ...formData, dosage: e.target.value })}\n            placeholder=\"e.g., 50mg\"\n            required\n          />\n        </div>\n      </div>\n      <div className=\"form-row\">\n        <div className=\"form-group\">\n          <label>Frequency *</label>\n          <input\n            type=\"text\"\n            value={formData.frequency || \"\"}\n            onChange={(e) => setFormData({ ...formData, frequency: e.target.value })}\n            placeholder=\"e.g., Once daily\"\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>Start Date *</label>\n          <input\n            type=\"text\"\n            value={formatDateInput(String(formData.startDate || \"\"))}\n            onChange={(e) => {\n              const formatted = formatDateInputValue(e.target.value)\n              setFormData({ ...formData, startDate: formatted })\n            }}\n            placeholder=\"DD/MM/YYYY\"\n            maxLength={10}\n            required\n          />\n        </div>\n      </div>\n      <div className=\"form-group\">\n        <label>Prescribed By *</label>\n        <input\n          type=\"text\"\n          value={formData.prescribedBy || \"\"}\n          onChange={(e) => setFormData({ ...formData, prescribedBy: e.target.value })}\n          required\n        />\n      </div>\n      <div className=\"form-actions\">\n        <button type=\"button\" className=\"btn btn-outline\" onClick={closeModal}>\n          Cancel\n        </button>\n        <button type=\"submit\" className=\"btn btn-primary\">\n          Add Medication\n        </button>\n      </div>\n    </form>\n  )\n  }\n\n  const PatientDetails = ({ patient }: { patient: Patient }) => {\n    // Access control: Centre admin can only view patients from their centre\n    if (currentUser?.role === \"centre_admin\" && patient.centreId !== currentUser.centreId) {\n      return (\n        <div style={{ padding: \"20px\", textAlign: \"center\", color: \"var(--red)\" }}>\n          <h3>Access Denied</h3>\n          <p>You don't have permission to view patients from other centres.</p>\n        </div>\n      )\n    }\n\n    const centre = centres.find((c) => c.id === patient.centreId)\n    return (\n      <div className=\"patient-details\">\n        <div className=\"detail-section\">\n          <h4>Personal Information</h4>\n          <div className=\"detail-grid\">\n            <div className=\"detail-item\">\n              <label>Patient ID</label>\n              <span>{patient.id}</span>\n            </div>\n            <div className=\"detail-item\">\n              <label>Status</label>\n              <span className={`badge badge-${patient.status}`}>{formatStatus(patient.status)}</span>\n            </div>\n            <div className=\"detail-item\">\n              <label>Date of Birth</label>\n              <span>{formatDate(patient.dob)}</span>\n            </div>\n            <div className=\"detail-item\">\n              <label>Age</label>\n              <span>{patient.age || calculateAge(patient.dob)} years</span>\n            </div>\n            <div className=\"detail-item\">\n              <label>Gender</label>\n              <span>{patient.gender}</span>\n            </div>\n            <div className=\"detail-item\">\n              <label>Phone</label>\n              <span>{patient.phone}</span>\n            </div>\n            <div className=\"detail-item\">\n              <label>Address</label>\n              <span>{patient.address}</span>\n            </div>\n            <div className=\"detail-item\">\n              <label>Email</label>\n              <span>{patient.email || \"N/A\"}</span>\n            </div>\n          </div>\n        </div>\n        <div className=\"detail-section\">\n          <h4>Identity & Emergency Contact</h4>\n          <div className=\"detail-grid\">\n            <div className=\"detail-item\">\n              <label>Aadhar Number</label>\n              <span>{patient.aadharNumber}</span>\n            </div>\n            <div className=\"detail-item\">\n              <label>Family Contact</label>\n              <span>{patient.familyContactName}</span>\n            </div>\n            <div className=\"detail-item\">\n              <label>Family Phone</label>\n              <span>{patient.familyContactPhone}</span>\n            </div>\n          </div>\n        </div>\n        <div className=\"detail-section\">\n          <h4>Treatment Information</h4>\n          <div className=\"detail-grid\">\n            <div className=\"detail-item\">\n              <label>Centre</label>\n              <span>{centre?.name || \"Unknown\"}</span>\n            </div>\n            <div className=\"detail-item\">\n              <label>Addiction Type</label>\n              <span>{patient.addictionType}</span>\n            </div>\n            <div className=\"detail-item\">\n              <label>Admission Date</label>\n              <span>{formatDate(patient.admissionDate)}</span>\n            </div>\n          </div>\n        </div>\n        <div className=\"detail-section\">\n          <div className=\"section-header\">\n            <h4>Medications</h4>\n            <button\n              className=\"btn btn-primary btn-small\"\n              onClick={() => {\n                setFormData({})\n                openModal(\"Add Medication\", <MedicationForm patientId={patient.id} />)\n              }}\n            >\n              + Add Medication\n            </button>\n          </div>\n          {patient.medications.length > 0 ? (\n            <table className=\"data-table\">\n              <thead>\n                <tr>\n                  <th>Name</th>\n                  <th>Dosage</th>\n                  <th>Frequency</th>\n                  <th>Prescribed By</th>\n                  <th>Start Date</th>\n                </tr>\n              </thead>\n              <tbody>\n                {patient.medications.map((med) => (\n                  <tr key={med.id}>\n                    <td>{med.name}</td>\n                    <td>{med.dosage}</td>\n                    <td>{med.frequency}</td>\n                    <td>{med.prescribedBy}</td>\n                    <td>{formatDate(med.startDate)}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          ) : (\n            <p className=\"empty-text\">No medications prescribed yet.</p>\n          )}\n        </div>\n      </div>\n    )\n  }\n\n  const QueryDetails = ({ query }: { query: Query }) => {\n    const [responseText, setResponseText] = useState(\"\")\n    // Ensure query has all required fields with defaults\n    const safeQuery = {\n      ...query,\n      id: query.id || 'Unknown',\n      status: query.status || 'open',\n      priority: query.priority || 'medium',\n      centreName: query.centreName || 'Unknown Centre',\n      createdBy: query.createdBy || 'Unknown',\n      createdAt: query.createdAt || '',\n      subject: query.subject || 'No Subject',\n      description: query.description || '',\n      responses: query.responses || [],\n    }\n    return (\n      <div className=\"query-details\">\n        <div className=\"detail-section\">\n          <div className=\"detail-grid\">\n            <div className=\"detail-item\">\n              <label>Query ID</label>\n              <span>{safeQuery.id}</span>\n            </div>\n            <div className=\"detail-item\">\n              <label>Status</label>\n              <span className={`badge badge-${safeQuery.status}`}>{formatStatus(safeQuery.status)}</span>\n            </div>\n            <div className=\"detail-item\">\n              <label>Priority</label>\n              <span className={`badge priority-${safeQuery.priority}`}>{safeQuery.priority.toUpperCase()}</span>\n            </div>\n            <div className=\"detail-item\">\n              <label>Centre</label>\n              <span>{safeQuery.centreName}</span>\n            </div>\n            <div className=\"detail-item\">\n              <label>Created By</label>\n              <span>{safeQuery.createdBy}</span>\n            </div>\n            <div className=\"detail-item\">\n              <label>Created On</label>\n              <span>{formatDate(safeQuery.createdAt)}</span>\n            </div>\n          </div>\n        </div>\n        <div className=\"detail-section\">\n          <h4>Subject</h4>\n          <p>{safeQuery.subject}</p>\n        </div>\n        <div className=\"detail-section\">\n          <h4>Description</h4>\n          <p>{safeQuery.description}</p>\n        </div>\n        <div className=\"detail-section\">\n          <h4>Responses</h4>\n          {safeQuery.responses.length > 0 ? (\n            <div className=\"responses-list\">\n              {safeQuery.responses.map((res) => (\n                <div key={res.id} className={`response-item ${res.isAdmin ? \"admin-response\" : \"\"}`}>\n                  <div className=\"response-header\">\n                    <strong>{res.respondedBy}</strong>\n                    <span>{formatDate(res.respondedAt)}</span>\n                  </div>\n                  <p>{res.message}</p>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <p className=\"empty-text\">No responses yet.</p>\n          )}\n        </div>\n        <div className=\"detail-section response-section\">\n          <h4>Add Response</h4>\n          <textarea\n            className=\"response-textarea\"\n            value={responseText}\n            onChange={(e) => setResponseText(e.target.value)}\n            rows={4}\n            placeholder=\"Type your response here...\"\n          />\n          <div className=\"form-actions\">\n            {currentUser?.role === \"super_admin\" && (\n              <select\n                className=\"status-dropdown\"\n                onChange={(e) => {\n                  if (e.target.value) {\n                    updateQueryStatus(safeQuery.id, e.target.value as Query[\"status\"])\n                    closeModal()\n                  }\n                }}\n                defaultValue=\"\"\n              >\n                <option value=\"\">Change Status</option>\n                <option value=\"open\">Open</option>\n                <option value=\"in_progress\">In Progress</option>\n                <option value=\"resolved\">Resolved</option>\n                <option value=\"closed\">Closed</option>\n              </select>\n            )}\n            <button\n              className=\"btn btn-primary\"\n              onClick={() => {\n                if (responseText.trim()) {\n                  addQueryResponse(safeQuery.id, responseText)\n                  setResponseText(\"\")\n                }\n              }}\n            >\n              Send Response\n            </button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  const OrderDetails = ({ order }: { order: Order }) => (\n    <div className=\"order-details\">\n      <div className=\"detail-section\">\n        <div className=\"detail-grid\">\n          <div className=\"detail-item\">\n            <label>Order ID</label>\n            <span>{order.id}</span>\n          </div>\n          <div className=\"detail-item\">\n            <label>Status</label>\n            <span className={`badge badge-${order.status}`}>{formatStatus(order.status)}</span>\n          </div>\n          <div className=\"detail-item\">\n            <label>Priority</label>\n            <span className={`badge priority-${order.priority}`}>{order.priority.toUpperCase()}</span>\n          </div>\n          <div className=\"detail-item\">\n            <label>Target</label>\n            <span>{order.targetCentreName}</span>\n          </div>\n          <div className=\"detail-item\">\n            <label>Issued By</label>\n            <span>{order.issuedBy}</span>\n          </div>\n          <div className=\"detail-item\">\n            <label>Issued On</label>\n            <span>{formatDate(order.issuedAt)}</span>\n          </div>\n          <div className=\"detail-item\">\n            <label>Deadline</label>\n            <span>{formatDate(order.deadline)}</span>\n          </div>\n        </div>\n      </div>\n      <div className=\"detail-section\">\n        <h4>Subject</h4>\n        <p>{order.subject}</p>\n      </div>\n      <div className=\"detail-section\">\n        <h4>Instructions</h4>\n        <p>{order.instruction}</p>\n      </div>\n      {order.acknowledgements.length > 0 && (\n        <div className=\"detail-section\">\n          <h4>Acknowledgements</h4>\n          <div className=\"ack-list\">\n            {order.acknowledgements.map((ack, i) => (\n              <div key={i} className=\"ack-item\">\n                <span>{ack.acknowledgedBy}</span>\n                <span>{formatDate(ack.acknowledgedAt)}</span>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n      <div className=\"form-actions\">\n        {currentUser?.role === \"centre_admin\" && order.status === \"issued\" && (\n          <button\n            className=\"btn btn-primary\"\n            onClick={() => {\n              acknowledgeOrder(order.id)\n              closeModal()\n            }}\n          >\n            Acknowledge Order\n          </button>\n        )}\n        {currentUser?.role === \"centre_admin\" && order.status === \"acknowledged\" && (\n          <button\n            className=\"btn btn-success\"\n            onClick={() => {\n              updateOrderStatus(order.id, \"completed\")\n              closeModal()\n            }}\n          >\n            Mark as Completed\n          </button>\n        )}\n        {currentUser?.role === \"super_admin\" && (\n          <select\n            className=\"status-dropdown\"\n            onChange={(e) => {\n              if (e.target.value) {\n                updateOrderStatus(order.id, e.target.value as Order[\"status\"])\n                closeModal()\n              }\n            }}\n            defaultValue=\"\"\n          >\n            <option value=\"\">Change Status</option>\n            <option value=\"issued\">Issued</option>\n            <option value=\"acknowledged\">Acknowledged</option>\n            <option value=\"in_progress\">In Progress</option>\n            <option value=\"completed\">Completed</option>\n          </select>\n        )}\n      </div>\n    </div>\n  )\n\n  // Login Page\n  if (!currentUser) {\n    return (\n      <div className=\"login-page\">\n        <div className=\"login-container\">\n          <div className=\"login-header\">\n            <div className=\"emblem\">\n              <div className=\"ashoka-chakra\"></div>\n            </div>\n            <h1>NRCMS</h1>\n            <p>National Rehabilitation Centre Management System</p>\n            <span className=\"govt-text\">Government of India</span>\n          </div>\n          <form onSubmit={handleLogin} className=\"login-form\">\n            <div className=\"form-group\">\n              <label htmlFor=\"email\">Email Address</label>\n              <input type=\"email\" id=\"email\" name=\"email\" placeholder=\"Enter your email\" required />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"password\">Password</label>\n              <input type=\"password\" id=\"password\" name=\"password\" placeholder=\"Enter your password\" required />\n              <div style={{ textAlign: \"right\", marginTop: \"8px\" }}>\n                <a\n                  href=\"/forgot-password\"\n                  style={{\n                    color: \"var(--navy-blue)\",\n                    textDecoration: \"none\",\n                    fontSize: \"0.85rem\",\n                  }}\n                >\n                  Forgot Password?\n                </a>\n              </div>\n            </div>\n            <button type=\"submit\" className=\"btn btn-primary btn-full\">\n              Sign In\n            </button>\n            <div className=\"demo-credentials\">\n              <p><strong>Demo Credentials:</strong></p>\n              <p>Super Admin: admin@rehab.gov.in</p>\n              <p>password: admin123</p>\n              <p>Centre Admin: aditi123@gmail.com</p>\n              <p>password: admin123</p>\n            </div>\n            <div style={{ textAlign: \"center\", marginTop: \"20px\", paddingTop: \"20px\", borderTop: \"1px solid var(--gray-200)\" }}>\n              <p style={{ color: \"var(--gray-600)\", marginBottom: \"10px\" }}>New Centre Admin?</p>\n              <a\n                href=\"/register\"\n                style={{\n                  color: \"var(--navy-blue)\",\n                  textDecoration: \"none\",\n                  fontWeight: \"600\",\n                  fontSize: \"0.95rem\",\n                }}\n              >\n                Register Your Centre \n              </a>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n\n  // Helper function to open add query modal\n  const openAddQueryModal = () => {\n    // Reset formData first - ensure it's completely empty for new query\n    const initialData: Record<string, string | number | null | undefined> = {\n      subject: \"\",\n      description: \"\",\n      priority: \"medium\",\n      centreId: \"\"\n    }\n    if (currentUser?.role === \"centre_admin\" && currentUser.centreId) {\n      initialData.centreId = currentUser.centreId\n    }\n    setFormData(initialData)\n    openModal(\"Raise Query\", null, \"addQuery\", {})\n  }\n\n  // Helper function to open add order modal\n  const openAddOrderModal = () => {\n    // Reset formData first - ensure it's completely empty for new order\n    const initialData: Record<string, string | number | null | undefined> = {\n      subject: \"\",\n      instruction: \"\",\n      priority: \"medium\",\n      deadline: \"\",\n      targetCentreId: null\n    }\n    setFormData(initialData)\n    openModal(\"Issue Order\", null, \"addOrder\", {})\n  }\n\n  // Main Application\n  return (\n    <div className=\"app\">\n      {/* Header */}\n      <header className=\"header\">\n        <div className=\"header-left\">\n          <div className=\"logo\">\n            <div className=\"ashoka-chakra small\"></div>\n            <span>NRCMS</span>\n          </div>\n          <nav className=\"nav\">\n            <a\n              href=\"#\"\n              className={`nav-link ${currentPage === \"dashboard\" ? \"active\" : \"\"}`}\n              onClick={(e) => {\n                e.preventDefault()\n                setCurrentPage(\"dashboard\")\n              }}\n            >\n              Dashboard\n            </a>\n            {currentUser?.role === \"super_admin\" && (\n              <a\n                href=\"#\"\n                className={`nav-link ${currentPage === \"centres\" ? \"active\" : \"\"}`}\n                onClick={(e) => {\n                  e.preventDefault()\n                  setCurrentPage(\"centres\")\n                }}\n              >\n                Centres\n              </a>\n            )}\n            {currentUser?.role === \"centre_admin\" && (\n              <a\n                href=\"#\"\n                className={`nav-link ${currentPage === \"my-centre\" ? \"active\" : \"\"}`}\n                onClick={(e) => {\n                  e.preventDefault()\n                  setCurrentPage(\"my-centre\")\n                }}\n              >\n                My Centre\n              </a>\n            )}\n            <a\n              href=\"#\"\n              className={`nav-link ${currentPage === \"patients\" ? \"active\" : \"\"}`}\n              onClick={(e) => {\n                e.preventDefault()\n                setCurrentPage(\"patients\")\n              }}\n            >\n              Patients\n            </a>\n            <a\n              href=\"#\"\n              className={`nav-link ${currentPage === \"support\" ? \"active\" : \"\"}`}\n              onClick={(e) => {\n                e.preventDefault()\n                setCurrentPage(\"support\")\n              }}\n            >\n              Support\n            </a>\n            <a\n              href=\"#\"\n              className={`nav-link ${currentPage === \"orders\" ? \"active\" : \"\"}`}\n              onClick={(e) => {\n                e.preventDefault()\n                setCurrentPage(\"orders\")\n              }}\n            >\n              Orders\n            </a>\n            {currentUser?.role === \"super_admin\" && (\n              <a\n                href=\"#\"\n                className={`nav-link ${currentPage === \"approvals\" ? \"active\" : \"\"}`}\n                onClick={(e) => {\n                  e.preventDefault()\n                  setCurrentPage(\"approvals\")\n                }}\n              >\n                Approvals\n                {pendingRegistrations.length > 0 && (\n                  <span style={{\n                    marginLeft: \"8px\",\n                    background: \"var(--red)\",\n                    color: \"white\",\n                    borderRadius: \"50%\",\n                    padding: \"2px 6px\",\n                    fontSize: \"0.75rem\",\n                  }}>\n                    {pendingRegistrations.length}\n                  </span>\n                )}\n              </a>\n            )}\n            <a\n              href=\"#\"\n              className={`nav-link ${currentPage === \"profile\" ? \"active\" : \"\"}`}\n              onClick={(e) => {\n                e.preventDefault()\n                setCurrentPage(\"profile\")\n              }}\n            >\n              Profile\n            </a>\n            {currentUser?.role === \"super_admin\" && (\n              <a\n                href=\"#\"\n                className={`nav-link ${currentPage === \"centre-admins\" ? \"active\" : \"\"}`}\n                onClick={(e) => {\n                  e.preventDefault()\n                  setCurrentPage(\"centre-admins\")\n                }}\n              >\n                Centre Admins\n              </a>\n            )}\n          </nav>\n        </div>\n        <div className=\"header-right\">\n          <span className=\"user-info\">\n            {currentUser.name} ({currentUser.role === \"super_admin\" ? \"Super Admin\" : \"Centre Admin\"})\n          </span>\n          <button onClick={handleLogout} className=\"btn btn-outline\">\n            Logout\n          </button>\n        </div>\n      </header>\n\n      {/* Dashboard */}\n      {currentPage === \"dashboard\" && (\n        <div className=\"page-content\">\n          <div className=\"page-header\">\n            <h1>Dashboard</h1>\n            <p>\n              {currentUser?.role === \"centre_admin\"\n                ? `Overview of ${filteredCentresForStats[0]?.name || \"your centre\"}`\n                : \"Overview of rehabilitation centres across India\"}\n            </p>\n          </div>\n          <div className=\"stats-grid\">\n            <div className=\"stat-card saffron\">\n              <div className=\"stat-icon\"></div>\n              <div className=\"stat-info\">\n                <h3>{stats.totalCentres}</h3>\n                <p>{currentUser?.role === \"centre_admin\" ? \"Your Centre\" : \"Total Centres\"}</p>\n              </div>\n            </div>\n            <div className=\"stat-card green\">\n              <div className=\"stat-icon\"></div>\n              <div className=\"stat-info\">\n                <h3>{stats.totalPatients}</h3>\n                <p>Total Patients</p>\n              </div>\n            </div>\n            <div className=\"stat-card blue\">\n              <div className=\"stat-icon\"></div>\n              <div className=\"stat-info\">\n                <h3>{stats.totalStates}</h3>\n                <p>{currentUser?.role === \"centre_admin\" ? \"State\" : \"States Covered\"}</p>\n              </div>\n            </div>\n            <div className=\"stat-card purple\">\n              <div className=\"stat-icon\"></div>\n              <div className=\"stat-info\">\n                <h3>{stats.pendingQueries}</h3>\n                <p>Pending Queries</p>\n              </div>\n            </div>\n          </div>\n          <div className=\"dashboard-grid\">\n            <div className=\"card\">\n              <h3>Centres by State</h3>\n              <div className=\"chart-bars\">\n                {centresByState.map((s) => (\n                  <div key={s.state} className=\"bar-item\">\n                    <span className=\"bar-label\">{s.state}</span>\n                    <div className=\"bar-container\">\n                      <div\n                        className=\"bar\"\n                        style={{ width: `${(s.count / Math.max(...centresByState.map((x) => x.count))) * 100}%` }}\n                      ></div>\n                    </div>\n                    <span className=\"bar-value\">{s.count}</span>\n                  </div>\n                ))}\n              </div>\n            </div>\n            <div className=\"card\">\n              <h3>Patient Status</h3>\n              <div className=\"status-legend\">\n                {patientsByStatus.map((s) => (\n                  <div key={s.status} className=\"legend-item\">\n                    <span className=\"legend-color\" style={{ backgroundColor: s.color }}></span>\n                    <span>\n                      {formatStatus(s.status)}: {s.count}\n                    </span>\n                  </div>\n                ))}\n              </div>\n            </div>\n            <div className=\"card\">\n              <h3>Addiction Types</h3>\n              <div className=\"addiction-stats\">\n                {addictionStats.map((a) => (\n                  <div key={a.type} className=\"addiction-item\">\n                    <span>{a.type}</span>\n                    <span className=\"count\">{a.count}</span>\n                  </div>\n                ))}\n              </div>\n            </div>\n            <div className=\"card\">\n              <h3>Recent Orders</h3>\n              <div className=\"recent-list\">\n                {filteredOrdersForStats.slice(0, 3).map((o) => (\n                  <div key={o.id} className=\"recent-item\">\n                    <span className={`badge priority-${o.priority}`}>{o.priority}</span>\n                    <span>{o.subject}</span>\n                  </div>\n                ))}\n                {filteredOrdersForStats.length === 0 && <p className=\"no-data\">No orders yet</p>}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* My Centre page for centre admin to view/edit their own centre */}\n      {currentPage === \"my-centre\" && currentUser?.role === \"centre_admin\" && (\n        <div className=\"page-content\">\n          <div className=\"page-header\">\n            <h1>My Centre</h1>\n            <p>View and manage your rehabilitation centre details</p>\n          </div>\n          {(() => {\n            const myCentre = centres.find((c) => c.id === currentUser.centreId)\n            if (!myCentre) return <p>Centre not found</p>\n            // Function to open edit modal\n            const openEditCentreModal = (centreToEdit: Centre) => {\n              setFormData(centreToEdit as unknown as Record<string, string | number | null | undefined>)\n              openModal(\"Edit Centre Details\", <CentreForm centre={centreToEdit} />)\n            }\n            return (\n              <div className=\"centre-detail-card\">\n                <div className=\"detail-header\">\n                  <h2>{myCentre.name}</h2>\n                  <span className=\"centre-id\">{myCentre.id}</span>\n                </div>\n                <div className=\"detail-grid\">\n                  <div className=\"detail-item\">\n                    <label>State</label>\n                    <span>{myCentre.state}</span>\n                  </div>\n                  <div className=\"detail-item\">\n                    <label>City</label>\n                    <span>{myCentre.city}</span>\n                  </div>\n                  <div className=\"detail-item\">\n                    <label>Address</label>\n                    <span>{myCentre.address}</span>\n                  </div>\n                  <div className=\"detail-item\">\n                    <label>Total Patients</label>\n                    <span>{patients.filter((p) => p.centreId === myCentre.id).length}</span>\n                  </div>\n                  <div className=\"detail-item\">\n                    <label>Contact</label>\n                    <span>{myCentre.phone}</span>\n                  </div>\n                  <div className=\"detail-item\">\n                    <label>Email</label>\n                    <span>{myCentre.email}</span>\n                  </div>\n                  <div className=\"detail-item\">\n                    <label>Capacity</label>\n                    <span>{myCentre.capacity} beds</span>\n                  </div>\n                  <div className=\"detail-item\">\n                    <label>Administrator</label>\n                    <span>{myCentre.administrator}</span>\n                  </div>\n                </div>\n                <div className=\"detail-actions\">\n                  <button className=\"btn btn-primary\" onClick={() => openEditCentreModal(myCentre)}>\n                    Edit Centre Details\n                  </button>\n                </div>\n              </div>\n            )\n          })()}\n        </div>\n      )}\n\n      {/* Centres - Only for Super Admin */}\n      {currentPage === \"centres\" && currentUser?.role === \"super_admin\" && (\n        <div className=\"page-content\">\n          <div className=\"page-header\">\n            <h1>Rehabilitation Centres</h1>\n            {currentUser.role === \"super_admin\" && (\n              <button\n                className=\"btn btn-primary\"\n                onClick={() => {\n                  setFormData({})\n                  openModal(\"Add New Centre\", <CentreForm />)\n                }}\n              >\n                + Add Centre\n              </button>\n            )}\n          </div>\n          <div className=\"filters\">\n            <input\n              type=\"text\"\n              placeholder=\"Search centres...\"\n              className=\"search-input\"\n              value={centreSearch}\n              onChange={(e) => setCentreSearch(e.target.value)}\n            />\n            <select className=\"select-input\" value={stateFilter} onChange={(e) => setStateFilter(e.target.value)}>\n              <option value=\"\">All States</option>\n              {INDIAN_STATES.map((state) => (\n                <option key={state} value={state}>\n                  {state}\n                </option>\n              ))}\n            </select>\n          </div>\n          <div className=\"table-container\">\n            <table className=\"data-table\">\n              <thead>\n                <tr>\n                  <th>Centre ID</th>\n                  <th>Name</th>\n                  <th>State</th>\n                  <th>City</th>\n                  <th>Patients</th>\n                  <th>Administrator</th>\n                  <th>Status</th>\n                  <th>Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {getFilteredCentres().length === 0 ? (\n                  <tr>\n                    <td colSpan={8} className=\"empty-state\">\n                      No centres found\n                    </td>\n                  </tr>\n                ) : (\n                  getFilteredCentres().map((c) => (\n                    <tr key={c.id}>\n                      <td>\n                        <strong>{c.id}</strong>\n                      </td>\n                      <td>{c.name}</td>\n                      <td>{c.state}</td>\n                      <td>{c.city}</td>\n                      <td>{patients.filter((p) => p.centreId === c.id).length}</td>\n                      <td>{c.administrator}</td>\n                      <td>\n                        <span className={`badge badge-${c.status}`}>{formatStatus(c.status)}</span>\n                      </td>\n                      <td>\n                        <div className=\"action-buttons\">\n                          <button\n                            className=\"btn btn-outline btn-small\"\n                            onClick={() =>\n                              openModal(\n                                c.name,\n                                <div className=\"detail-grid\">\n                                  <div className=\"detail-item\">\n                                    <label>ID</label>\n                                    <span>{c.id}</span>\n                                  </div>\n                                  <div className=\"detail-item\">\n                                    <label>State</label>\n                                    <span>{c.state}</span>\n                                  </div>\n                                  <div className=\"detail-item\">\n                                    <label>City</label>\n                                    <span>{c.city}</span>\n                                  </div>\n                                  <div className=\"detail-item\">\n                                    <label>Address</label>\n                                    <span>{c.address}</span>\n                                  </div>\n                                  <div className=\"detail-item\">\n                                    <label>Phone</label>\n                                    <span>{c.phone}</span>\n                                  </div>\n                                  <div className=\"detail-item\">\n                                    <label>Email</label>\n                                    <span>{c.email}</span>\n                                  </div>\n                                  <div className=\"detail-item\">\n                                    <label>Capacity</label>\n                                    <span>{c.capacity}</span>\n                                  </div>\n                                  <div className=\"detail-item\">\n                                    <label>Administrator</label>\n                                    <span>{c.administrator}</span>\n                                  </div>\n                                </div>,\n                              )\n                            }\n                          >\n                            View\n                          </button>\n                          {currentUser.role === \"super_admin\" && (\n                            <button\n                              className=\"btn btn-outline btn-small\"\n                              onClick={() => {\n                                setFormData(c as unknown as Record<string, string | number | null | undefined>)\n                                openModal(\"Edit Centre\", <CentreForm centre={c} />)\n                              }}\n                            >\n                              Edit\n                            </button>\n                          )}\n                          {currentUser.role === \"super_admin\" && (\n                            <button className=\"btn btn-danger btn-small\" onClick={() => deleteCentre(c.id)}>\n                              Delete\n                            </button>\n                          )}\n                        </div>\n                      </td>\n                    </tr>\n                  ))\n                )}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n\n      {/* Patients Page */}\n      {currentPage === \"patients\" && (\n        <div className=\"page-content\">\n          <div className=\"page-header\">\n            <h1>Patients</h1>\n            <p>\n              {currentUser?.role === \"centre_admin\"\n                ? \"Manage patient records for your centre\"\n                : \"Manage patient records across all centres\"}\n            </p>\n            <button\n              className=\"btn btn-primary\"\n              onClick={() => {\n                // Reset formData first - ensure it's completely empty for new patient\n                const initialData: Record<string, string | number | null | undefined> = {\n                  name: \"\",\n                  dob: \"\",\n                  gender: \"\",\n                  phone: \"\",\n                  address: \"\",\n                  aadharNumber: \"\",\n                  email: \"\",\n                  familyContactName: \"\",\n                  familyContactPhone: \"\",\n                  addictionType: \"\",\n                  admissionDate: \"\",\n                  status: \"admitted\"\n                }\n                if (currentUser?.role === \"centre_admin\" && currentUser.centreId) {\n                  initialData.centreId = currentUser.centreId\n                }\n                setFormData(initialData)\n                openModal(\"Add New Patient\", null, \"addPatient\", {})\n              }}\n            >\n              + Add Patient\n            </button>\n          </div>\n          <div className=\"filters\">\n            <input\n              type=\"text\"\n              placeholder=\"Search by name, ID or Aadhar...\"\n              className=\"search-input\"\n              value={patientSearch}\n              onChange={(e) => setPatientSearch(e.target.value)}\n            />\n            {currentUser?.role === \"super_admin\" && (\n              <select value={centreFilter} onChange={(e) => setCentreFilter(e.target.value)}>\n                <option value=\"\">All Centres</option>\n                {centres.map((c) => (\n                  <option key={c.id} value={c.id}>\n                    {c.name}\n                  </option>\n                ))}\n              </select>\n            )}\n            <select value={statusFilter} onChange={(e) => setStatusFilter(e.target.value)}>\n              <option value=\"\">All Status</option>\n              <option value=\"admitted\">Admitted</option>\n              <option value=\"under_treatment\">Under Treatment</option>\n              <option value=\"recovering\">Recovering</option>\n              <option value=\"discharged\">Discharged</option>\n            </select>\n          </div>\n          <div className=\"table-container\">\n            <table className=\"data-table\">\n              <thead>\n                <tr>\n                  <th>Patient ID</th>\n                  <th>Name</th>\n                  <th>Age</th>\n                  <th>Centre</th>\n                  <th>Addiction Type</th>\n                  <th>Status</th>\n                  <th>Admitted On</th>\n                  <th>Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {getFilteredPatients().length === 0 ? (\n                  <tr>\n                    <td colSpan={8} className=\"empty-state\">\n                      No patients found\n                    </td>\n                  </tr>\n                ) : (\n                  getFilteredPatients().map((p) => {\n                    const centre = centres.find((c) => c.id === p.centreId)\n                    return (\n                      <tr key={p.id}>\n                        <td>\n                          <strong>{p.id}</strong>\n                        </td>\n                        <td>{p.name}</td>\n                        <td>{p.age || calculateAge(p.dob)}</td>\n                        <td>{centre?.name || \"Unknown\"}</td>\n                        <td>{p.addictionType}</td>\n                        <td>\n                          <span className={`badge badge-${p.status}`}>{formatStatus(p.status)}</span>\n                        </td>\n                        <td>{formatDate(p.admissionDate)}</td>\n                        <td>\n                          <div className=\"action-buttons\">\n                            <button\n                              className=\"btn btn-outline btn-small\"\n                              onClick={() => openModal(p.name, <PatientDetails patient={p} />)}\n                            >\n                              View\n                            </button>\n                            <button\n                              className=\"btn btn-outline btn-small\"\n                              onClick={() => {\n                                setFormData(p as unknown as Record<string, string | number | null | undefined>)\n                                openModal(\"Edit Patient\", null, \"editPatient\", { patient: p })\n                              }}\n                            >\n                              Edit\n                            </button>\n                            <button className=\"btn btn-danger btn-small\" onClick={() => deletePatient(p.id)}>\n                              Delete\n                            </button>\n                          </div>\n                        </td>\n                      </tr>\n                    )\n                  })\n                )}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n\n      {/* Support Page */}\n      {currentPage === \"support\" && (\n        <div className=\"page-content\">\n          <div className=\"page-header\">\n            <h1>Support & Queries</h1>\n            <p>\n              {currentUser?.role === \"centre_admin\"\n                ? \"Raise queries and get support from headquarters\"\n                : \"Manage support queries from all centres\"}\n            </p>\n            {/* Only centre admin can raise new queries */}\n            {currentUser?.role === \"centre_admin\" && (\n              <button className=\"btn btn-primary\" onClick={openAddQueryModal}>\n                + Raise Query\n              </button>\n            )}\n          </div>\n          <div className=\"filters\">\n            <input\n              type=\"text\"\n              placeholder=\"Search by Query ID, Subject or Centre...\"\n              className=\"search-input\"\n              value={querySearch}\n              onChange={(e) => setQuerySearch(e.target.value)}\n            />\n            <select\n              className=\"select-input\"\n              value={queryStatusFilter}\n              onChange={(e) => setQueryStatusFilter(e.target.value)}\n            >\n              <option value=\"\">All Status</option>\n              <option value=\"open\">Open</option>\n              <option value=\"in_progress\">In Progress</option>\n              <option value=\"resolved\">Resolved</option>\n              <option value=\"closed\">Closed</option>\n            </select>\n            <select\n              className=\"select-input\"\n              value={queryPriorityFilter}\n              onChange={(e) => setQueryPriorityFilter(e.target.value)}\n            >\n              <option value=\"\">All Priority</option>\n              <option value=\"low\">Low</option>\n              <option value=\"medium\">Medium</option>\n              <option value=\"high\">High</option>\n              <option value=\"urgent\">Urgent</option>\n            </select>\n          </div>\n          <div className=\"table-container\">\n            <table className=\"data-table\">\n              <thead>\n                <tr>\n                  <th>Query ID</th>\n                  <th>Subject</th>\n                  <th>Centre</th>\n                  <th>Priority</th>\n                  <th>Status</th>\n                  <th>Created</th>\n                  <th>Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {getFilteredQueries().length === 0 ? (\n                  <tr>\n                    <td colSpan={7} className=\"empty-state\">\n                      No queries found\n                    </td>\n                  </tr>\n                ) : (\n                  getFilteredQueries().map((q) => (\n                    <tr key={q.id}>\n                      <td>\n                        <strong>{q.id}</strong>\n                      </td>\n                      <td>{q.subject || 'No Subject'}</td>\n                      <td>{q.centreName || 'Unknown Centre'}</td>\n                      <td>\n                        <span className={`badge priority-${q.priority || 'medium'}`}>{(q.priority || 'medium').toUpperCase()}</span>\n                      </td>\n                      <td>\n                        <span className={`badge badge-${q.status || 'open'}`}>{formatStatus(q.status || 'open')}</span>\n                      </td>\n                      <td>{formatDate(q.createdAt || '')}</td>\n                      <td>\n                        <div className=\"action-buttons\">\n                          <button\n                            className={`btn btn-small ${currentUser?.role === \"super_admin\" ? \"btn-primary\" : \"btn-outline\"}`}\n                            onClick={() => openModal(`Query: ${q.subject}`, <QueryDetails query={q} />)}\n                          >\n                            View\n                          </button>\n                        </div>\n                      </td>\n                    </tr>\n                  ))\n                )}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n\n      {/* Orders Page */}\n      {currentPage === \"orders\" && (\n        <div className=\"page-content\">\n          <div className=\"page-header\">\n            <h1>Orders & Instructions</h1>\n            <p>\n              {currentUser?.role === \"centre_admin\"\n                ? \"View orders and instructions from headquarters\"\n                : \"Issue orders and instructions to centres\"}\n            </p>\n            {currentUser?.role === \"super_admin\" && (\n              <button className=\"btn btn-primary\" onClick={openAddOrderModal}>\n                + Issue Order\n              </button>\n            )}\n          </div>\n          <div className=\"filters\">\n            <input\n              type=\"text\"\n              placeholder=\"Search by Order ID, Subject or Centre...\"\n              className=\"search-input\"\n              value={orderSearch}\n              onChange={(e) => setOrderSearch(e.target.value)}\n            />\n            <select\n              className=\"select-input\"\n              value={orderStatusFilter}\n              onChange={(e) => setOrderStatusFilter(e.target.value)}\n            >\n              <option value=\"\">All Status</option>\n              <option value=\"issued\">Issued</option>\n              <option value=\"acknowledged\">Acknowledged</option>\n              <option value=\"in_progress\">In Progress</option>\n              <option value=\"completed\">Completed</option>\n            </select>\n            <select\n              className=\"select-input\"\n              value={orderPriorityFilter}\n              onChange={(e) => setOrderPriorityFilter(e.target.value)}\n            >\n              <option value=\"\">All Priority</option>\n              <option value=\"low\">Low</option>\n              <option value=\"medium\">Medium</option>\n              <option value=\"high\">High</option>\n              <option value=\"critical\">Critical</option>\n            </select>\n          </div>\n          <div className=\"table-container\">\n            <table className=\"data-table\">\n              <thead>\n                <tr>\n                  <th>Order ID</th>\n                  <th>Subject</th>\n                  <th>Target</th>\n                  <th>Priority</th>\n                  <th>Status</th>\n                  <th>Deadline</th>\n                  <th>Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {getFilteredOrders().length === 0 ? (\n                  <tr>\n                    <td colSpan={7} className=\"empty-state\">\n                      No orders found\n                    </td>\n                  </tr>\n                ) : (\n                  getFilteredOrders().map((o) => (\n                    <tr key={o.id}>\n                      <td>\n                        <strong>{o.id}</strong>\n                      </td>\n                      <td>{o.subject}</td>\n                      <td>{o.targetCentreName}</td>\n                      <td>\n                        <span className={`badge priority-${o.priority}`}>{o.priority.toUpperCase()}</span>\n                      </td>\n                      <td>\n                        <span className={`badge badge-${o.status}`}>{formatStatus(o.status)}</span>\n                      </td>\n                      <td>{formatDate(o.deadline)}</td>\n                      <td>\n                        <div className=\"action-buttons\">\n                          <button\n                            className=\"btn btn-outline btn-small\"\n                            onClick={() => openModal(`Order: ${o.subject}`, <OrderDetails order={o} />)}\n                          >\n                            View\n                          </button>\n                        </div>\n                      </td>\n                    </tr>\n                  ))\n                )}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n\n      {/* Approvals Page - Super Admin Only */}\n      {currentPage === \"approvals\" && currentUser?.role === \"super_admin\" && (\n        <div className=\"page-content\">\n          <div className=\"page-header\">\n            <h1>Registration Approvals</h1>\n            <p>Review and approve centre admin registration requests</p>\n          </div>\n          <div className=\"table-container\">\n            <table className=\"data-table\">\n              <thead>\n                <tr>\n                  <th>Name</th>\n                  <th>Email</th>\n                  <th>Phone</th>\n                  <th>Centre Name</th>\n                  <th>Location</th>\n                  <th>Submitted</th>\n                  <th>Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {pendingRegistrations.length === 0 ? (\n                  <tr>\n                    <td colSpan={7} className=\"empty-state\">\n                      No pending registrations\n                    </td>\n                  </tr>\n                ) : (\n                  pendingRegistrations.map((reg) => (\n                    <tr key={reg.id}>\n                      <td>\n                        <strong>{reg.name}</strong>\n                      </td>\n                      <td>{reg.email}</td>\n                      <td>{reg.phone || \"N/A\"}</td>\n                      <td>{reg.centreName}</td>\n                      <td>\n                        {reg.centreCity}, {reg.centreState}\n                      </td>\n                      <td>{reg.createdAt ? formatDate(new Date(reg.createdAt as string | Date).toISOString().split('T')[0]) : \"N/A\"}</td>\n                      <td>\n                        <div className=\"action-buttons\">\n                          <button\n                            className=\"btn btn-outline btn-small\"\n                            onClick={() =>\n                              openModal(\n                                `Registration Details: ${reg.name}`,\n                                <div className=\"detail-section\">\n                                  <div className=\"detail-grid\">\n                                    <div className=\"detail-item\">\n                                      <label>Name</label>\n                                      <span>{reg.name}</span>\n                                    </div>\n                                    <div className=\"detail-item\">\n                                      <label>Email</label>\n                                      <span>{reg.email}</span>\n                                    </div>\n                                    <div className=\"detail-item\">\n                                      <label>Phone</label>\n                                      <span>{reg.phone || \"N/A\"}</span>\n                                    </div>\n                                    <div className=\"detail-item\">\n                                      <label>Centre Name</label>\n                                      <span>{reg.centreName}</span>\n                                    </div>\n                                    <div className=\"detail-item\">\n                                      <label>State</label>\n                                      <span>{reg.centreState}</span>\n                                    </div>\n                                    <div className=\"detail-item\">\n                                      <label>City</label>\n                                      <span>{reg.centreCity}</span>\n                                    </div>\n                                    <div className=\"detail-item\" style={{ gridColumn: \"1 / -1\" }}>\n                                      <label>Address</label>\n                                      <span>{reg.centreAddress}</span>\n                                    </div>\n                                  </div>\n                                  <div className=\"form-actions\" style={{ marginTop: \"20px\" }}>\n                                    <button\n                                      className=\"btn btn-success\"\n                                      onClick={() => {\n                                        handleApproveRegistration(reg.id, \"approve\")\n                                        closeModal()\n                                      }}\n                                    >\n                                       Approve\n                                    </button>\n                                    <button\n                                      className=\"btn btn-danger\"\n                                      onClick={() => {\n                                        const reason = prompt(\"Enter rejection reason (optional):\")\n                                        handleApproveRegistration(reg.id, \"reject\", reason || undefined)\n                                        closeModal()\n                                      }}\n                                    >\n                                       Reject\n                                    </button>\n                                  </div>\n                                </div>\n                              )\n                            }\n                          >\n                            View\n                          </button>\n                          <button\n                            className=\"btn btn-success btn-small\"\n                            onClick={() => handleApproveRegistration(reg.id, \"approve\")}\n                          >\n                            Approve\n                          </button>\n                          <button\n                            className=\"btn btn-danger btn-small\"\n                            onClick={() => {\n                              const reason = prompt(\"Enter rejection reason (optional):\")\n                              handleApproveRegistration(reg.id, \"reject\", reason || undefined)\n                            }}\n                          >\n                            Reject\n                          </button>\n                        </div>\n                      </td>\n                    </tr>\n                  ))\n                )}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n\n      {/* Profile Page - For Both Super Admin and Centre Admin */}\n      {currentPage === \"profile\" && currentUser && (\n        <div className=\"page-content\">\n          <div className=\"page-header\">\n            <h1>My Profile</h1>\n            <p>View and update your personal information</p>\n          </div>\n          \n          <ProfileForm user={currentUser} onUpdate={async (updatedUser) => {\n            setCurrentUser(updatedUser)\n            localStorage.setItem(\"nrcms_current_user\", JSON.stringify(updatedUser))\n            alert(\"Profile updated successfully!\")\n          }} />\n        </div>\n      )}\n\n      {/* Centre Admins Page - Super Admin Only */}\n      {currentPage === \"centre-admins\" && currentUser?.role === \"super_admin\" && (\n        <div className=\"page-content\">\n          <div className=\"page-header\">\n            <h1>Centre Admins</h1>\n            <p>View all centre administrator profiles</p>\n          </div>\n          \n          <div className=\"table-container\">\n            <table className=\"data-table\">\n              <thead>\n                <tr>\n                  <th>Employee Code</th>\n                  <th>Name</th>\n                  <th>Email</th>\n                  <th>Phone</th>\n                  <th>Centre Name</th>\n                  <th>Location</th>\n                  <th>Status</th>\n                  <th>Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {centreAdmins.length === 0 ? (\n                  <tr>\n                    <td colSpan={8} className=\"empty-state\">\n                      No centre admins found\n                    </td>\n                  </tr>\n                ) : (\n                  centreAdmins.map((admin) => {\n                    const adminCentre = centres.find((c) => c.id === admin.centreId)\n                    return (\n                      <tr key={admin.id}>\n                        <td>\n                          <strong style={{ color: \"var(--navy-blue)\" }}>\n                            {admin.employeeCode || \"N/A\"}\n                          </strong>\n                        </td>\n                        <td>\n                          <strong>{admin.name}</strong>\n                        </td>\n                        <td>{admin.email}</td>\n                        <td>{admin.phone || \"N/A\"}</td>\n                        <td>{adminCentre?.name || admin.centreName || \"N/A\"}</td>\n                        <td>\n                          {adminCentre \n                            ? `${adminCentre.city}, ${adminCentre.state}`\n                            : admin.centreCity && admin.centreState\n                            ? `${admin.centreCity}, ${admin.centreState}`\n                            : \"N/A\"}\n                        </td>\n                        <td>\n                          <span className={`badge badge-${admin.status || \"approved\"}`}>\n                            {formatStatus(admin.status || \"approved\")}\n                          </span>\n                        </td>\n                        <td>\n                          <button\n                            className=\"btn btn-primary btn-small\"\n                            onClick={() => openModal(\n                              `Profile: ${admin.name}`,\n                              <ProfileForm \n                                user={admin} \n                                onUpdate={async () => {\n                                  await fetchCentreAdmins()\n                                  closeModal()\n                                }} \n                                readOnly={true}\n                              />\n                            )}\n                          >\n                            View Profile\n                          </button>\n                        </td>\n                      </tr>\n                    )\n                  })\n                )}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n\n      {/* Modal */}\n      {modalOpen && (\n        <div className=\"modal-overlay\" onClick={closeModal}>\n          <div className=\"modal-container\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"modal-header\">\n              <h2>{modalTitle}</h2>\n              <button className=\"modal-close\" onClick={closeModal}>\n                &times;\n              </button>\n            </div>\n            <div className=\"modal-content\">\n              {modalType === \"addPatient\" ? <PatientForm /> : \n               modalType === \"editPatient\" && modalProps?.patient ? <PatientForm patient={modalProps.patient as Patient} /> :\n               modalType === \"addQuery\" ? <QueryForm /> :\n               modalType === \"addOrder\" ? <OrderForm /> :\n               modalContent}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAIA;AACA;;;AALA;;;AAiHA,YAAY;AACZ,gFAAgF;AAEhF,MAAM,gBAAgB;IACpB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAED,MAAM,kBAAkB;IACtB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAED,eAAe;AACf,MAAM,iBAA2B;IAC/B;QACE,IAAI;QACJ,MAAM;QACN,OAAO;QACP,MAAM;QACN,SAAS;QACT,OAAO;QACP,OAAO;QACP,UAAU;QACV,eAAe;QACf,YAAY;QACZ,QAAQ;QACR,WAAW;IACb;IACA;QACE,IAAI;QACJ,MAAM;QACN,OAAO;QACP,MAAM;QACN,SAAS;QACT,OAAO;QACP,OAAO;QACP,UAAU;QACV,eAAe;QACf,YAAY;QACZ,QAAQ;QACR,WAAW;IACb;IACA;QACE,IAAI;QACJ,MAAM;QACN,OAAO;QACP,MAAM;QACN,SAAS;QACT,OAAO;QACP,OAAO;QACP,UAAU;QACV,eAAe;QACf,YAAY;QACZ,QAAQ;QACR,WAAW;IACb;IACA;QACE,IAAI;QACJ,MAAM;QACN,OAAO;QACP,MAAM;QACN,SAAS;QACT,OAAO;QACP,OAAO;QACP,UAAU;QACV,eAAe;QACf,YAAY;QACZ,QAAQ;QACR,WAAW;IACb;CACD;AAED,MAAM,kBAA6B;IACjC;QACE,IAAI;QACJ,UAAU;QACV,MAAM;QACN,KAAK;QACL,KAAK;QACL,QAAQ;QACR,OAAO;QACP,OAAO;QACP,SAAS;QACT,cAAc;QACd,mBAAmB;QACnB,oBAAoB;QACpB,eAAe;QACf,eAAe;QACf,QAAQ;QACR,aAAa;YACX;gBACE,IAAI;gBACJ,MAAM;gBACN,QAAQ;gBACR,WAAW;gBACX,cAAc;gBACd,WAAW;YACb;SACD;IACH;IACA;QACE,IAAI;QACJ,UAAU;QACV,MAAM;QACN,KAAK;QACL,KAAK;QACL,QAAQ;QACR,OAA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"}}]
}